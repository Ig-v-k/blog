<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Four NOs of a Serious Code Reviewer"/> <meta name="twitter:description" property="og:description" content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/russian/2015/02/09/serious-code-reviewer.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?4b9fb629ca2"/> <link rel="apple-touch-icon" href="/favicon.ico?4b9fb629ca2"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?4b9fb629ca2"/> <link rel="stylesheet" href="/css/icons.css?4b9fb629ca2"/> <link rel="canonical" href="https://www.yegor256.com/russian/2015/02/09/serious-code-reviewer.html" /> <title>Four NOs of a Serious Code Reviewer</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Four NOs of a Serious Code Reviewer</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a translation of the <a href='https://www.yegor256.com/2015/02/09/serious-code-reviewer.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>Code reviews (или peer reviews) должны быть обязательной практикой для каждой серьезной команды разработки программного обеспечения. Надеюсь, по этому поводу нет споров. Некоторые делают предварительные кодовые ревью перед слиянием, защищая свою основную/разработочную ветку от случайных ошибок. Другие делают регулярные кодовые ревью после слияния, чтобы обнаруживать ошибки и несоответствия, вносимые их авторами. Некоторые даже делают и то, и другое - ревью перед слиянием и регулярно после. Кодовые ревью очень похожи на технику тестирования “белого ящика”, где тестировщик ищет дефекты с полным доступом к исходным кодам программного обеспечения. В любом случае, кодовое ревью - отличный инструмент для повышения качества и стимулирования команды.</p><p>Однако, сделать их правильно не так просто. Я бы даже сказал, что очень легко и удобно делать их неправильно. Большинство кодовых ревью и рецензентов, которых я видел, делают похожие ошибки. Именно поэтому я решил подвести итоги четырех основных принципов хорошего рецензента, как я их вижу. Надеюсь, они окажутся полезными для вас.</p><p>Существует несколько различных страхов, которыми серьезный рецензент кода должен отказаться от них. Первый и наиболее популярный - это страх обидеть автора кода. “Мне лучше закрыть глаза и притвориться, что я не видел ее ошибки сегодня, чтобы завтра она проигнорировала мои ошибки” - такое отношение порождает этот страх. Не нужно говорить, что это противопродуктивно и понижает качество кода и мораль команды. Вот мой совет: будьте прямыми, честными и прямолинейными. Если вам не нравится код, значит, он вам не нравится. Вам не следует беспокоиться о том, как будет воспринято ваше мнение автором кода.</p><p>Если у вас есть такие чувства по отношению к вашим коллегам, значит, что-то не так с моделью управления. Вы боитесь быть отвергнутым командой за “непрофессионализм” – это ярлык, присвоенный вам самыми слабыми членами команды, а не спонсором проекта. Спонсор платит вам за создание качественного программного обеспечения. Спонсору не важно, как сильно ваше стремление улучшить качество оскорбляет других, которым это мало важно. Спонсор хочет, чтобы его деньги принесли результаты, которые можно продать клиентам и вернуть в виде прибыли. Спонсор не платит вам за то, чтобы заводить друзей в офисе.</p><p>Следующий вид страха звучит так: “Если я отклоню этот код, то задержу релиз”. Снова стоит отметить, что такое отношение серьезно наносит вред всему проекту. Ты примешь этот код и закроешь глаза на то, что тебе в нем не нравится. Код попадет в следующий релиз, и мы его отправим раньше. Ты не будешь узким местом, и никто не скажет, что из-за упрямого рецензента кода мы задержали релиз и потеряли немного денег. Ты будешь хорошим игроком в команде, верно? Неверно!</p><p>Как я уже упоминал ранее, профессиональный член команды понимает свою личную роль в проекте и не прикрывает задницы никому. Если отклонение плохого кода замедляет выпуск, это вина его автора. Ваша профессиональная ответственность - сделать эту ошибку видимой. Таким образом, вы помогаете команде учиться и совершенствоваться.</p><p>Я считаю, что очевидно, что развитие и улучшение команды сначала требует избавления от плохих программистов и продвижения хороших. Честные и бесстрашные рецензенты кода помогают команде учиться и совершенствоваться.</p><p>Еще один страх выражается так: “Я могу ошибиться, и они будут смеяться надо мной”. Еще хуже, они могут заметить мою недостаточность знаний. Они могут видеть, что я не знаю, что делаю. Было бы лучше промолчать и притвориться, что в коде нет ошибок. По крайней мере, тогда я не унизил бы себя глупыми комментариями. Ты знаешь, что намного проще казаться умным, если держишь рот на замке, верно? Неправда!</p><p>Проект не платит вам за внешний вид. Вы получаете свою зарплату не потому, что команда вас любит, а потому что вы ежедневно создаете результаты. Ваша профессиональная ответственность - делать лучшее для проекта и игнорировать мнения всех, включая мнение вашего начальника. Подобно цитате “Счастливый начальник - ложная цель”, я бы сказал, что уважение команды - ложная цель. Не пытайтесь заслужить уважение. Вместо этого, создавайте чистый код, и уважение придет автоматически.</p><p>Позвольте мне повторить: не бойтесь посрамить себя, делая неправильные и глупые комментарии на чей-то код. Будьте преданны проекту, а не ожиданиям людей вокруг вас. Они ожидают, что вы будете умными и ясными, но проект ожидает, чтобы вы говорили то, что думаете о коде. Так что забейте на их мнение; делайте правильное дело и говорите то, что вы действительно думаете.</p><p>Хорошо, вы бесстрашно высказали свое мнение о коде и просто отклонили его. Ветка, которую вы рассматривали, не является хорошей, и вы объяснили почему. Вы попросили автора переработать здесь и переписать там. Что будет дальше?</p><p>Он или она попытается заключить с вами сделку. Это естественно и происходит практически во всех отделах, которые я вижу у нас в команде. Автор кода также является профессиональным разработчиком и у него тоже нет страха. Поэтому он настаивает, что его подход к реализации правильный, а ваши идеи неправильные. Что должен делать профессиональный рецензент кода в этом случае?</p><p>Самое худшее (как и в любом разрешении конфликта) - это компромисс. Это то, что разрушает качество быстрее, чем плохой код. Компромисс - это техника разрешения конфликта, при которой обе стороны соглашаются отказаться от того, чего они хотели, ради прекращения конфликта. Другими словами, “Давайте заключим мир, просто чтобы перестать ссориться”. Это самый худший подход.</p><p>Вместо низкокачественного компромисса существуют три профессиональных выхода из спора по поводу куска кода.</p><p>“You’re right; I take my comments back!” This may happen, and it should happen very often. You should be ready to admit your mistakes. You didn’t like the code, but its author explained to you its benefits, and you accepted the logic—not because you want to stop fighting with him but because you really understood the logic and accepted it. Willingness to say, “I’m wrong,” is the first sign of a mature and serious developer.</p><p>“I will never accept this, period!” Some code deserves that, and there is nothing wrong with resolving a conflict this way. The opponent may accept the situation and re-write everything. And learn something too.</p><p>“Let’s do what the architect says!” In every project, there is a software architect who makes final decisions. Appeal to his opinion and get his final decision. Invite him into the discussion, and ask him to take one side in the conflict. Once he tells you that you’re wrong, accept the decision and try to learn from it.</p><p>Таким образом, либо стойте крепко на своей позиции и боритесь за нее, либо признайте, что вы ошибаетесь. Так или иначе. Но не идите на компромисс!</p><p>Не поймите меня неправильно; речь не о том, чтобы быть упрямым и держать свои карты, несмотря на то, насколько они плохи. Будьте гибкими и учитесь на ходу. Ваша позиция может и должна изменяться во время переговоров, но не принимайте ничего, что вам не нравится. Вы можете выйти из конфликта только если полностью убеждены, что оппонент прав, или когда так скажет архитектор. Нет никакого золотого среднего.</p><p>Опять же, ты бесстрашно говоришь, что метод должен быть разработан иначе. Твой противник, автор кода, отвечает, что он так не считает. Ты ещё раз внимательно смотришь и решаешь придерживаться своей позиции. Ты всё ещё считаешь, что прав и не намерен идти на компромисс. Что делать теперь? Ещё рано звать архитектора, поэтому попытайся убедить своего противника.</p><p>В большинстве случаев убеждение - это преподавание. Вы знаете что-то, чего он не знает. Вот почему он создал тот метод, которым вам не нравится. Один из вас нуждается в дополнительном образовании. Вот возможность для вас стать учителем своего коллеги. Чтобы быть эффективным учителем, вам нужно предоставить доказательства. Вам нужно обосновать свою логику и убедиться, что он понимает и принимает ее.</p><p>Будьте готовы предоставить ссылки, статьи, книги, отчеты, примеры и так далее. Простое утверждение “Я знаю это, потому что пишу на Java уже 15 лет” недостаточно. Более того, такой тип аргументации только делает вас менее убедительным.</p><p>Если у вас нет достаточных убедительных доказательств, подумайте еще раз - возможно, вы ошибаетесь.</p><p>Также помните, что ваша задача - доказать, что код, который вы проверяете, плохой. Автор кода не должен ничего доказывать. Его код по умолчанию отличный. Задача рецензента - показать, почему и как на самом деле это не так. Другими словами, вы являетесь истцом, а он - защитником. Не наоборот.</p><p>Это последний и самый сложный принцип, который нужно соблюдать. Независимо от того, насколько плох код и насколько упрям ваш оппонент, вы должны оставаться профессионалом. Честно говоря, иногда мне это очень сложно. В Zerocracy мы работаем в распределённых командах и каждую неделю нанимаем несколько новых людей. Некоторые из них, несмотря на наши критерии отбора, оказываются довольно сложными в общении.</p><p>Я столкнулся с забавной ситуацией примерно год назад, когда новый парень должен был создать небольшую (20-30 строк кода) новую функцию в существующей библиотеке Java. Он прислал мне запрос на слияние (я был рецензентом кода), после того, как он внес несколько сотен строк кода. Тот код был полным мусором и явно не написан им самим. Я сразу понял, что он нашел его где-то и скопировал. Но что я мог сделать? Как мне отклонить это, не сказав, что его отношение неприемлемо для профессионального разработчика? Мне пришлось потратить некоторое время, объективно критикуя его код за его стиль, дизайн и т.д. Мне пришлось оставить множество серьезных комментариев, чтобы показать ему, что чтобы исправить это все, ему следует удалить мусор и переписать с нуля. После выполнения этой задачи я его больше не видел.</p><p>Мой посыл в том, что быть профессионалом легко, когда вы имеете дело с профессионалами. К сожалению, это не всегда так. Но несмотря на то, насколько плохим является код перед вами, будьте терпеливыми и убедительными.</p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">What do you feel when your pull request is rejected and a lot of &quot;re-work&quot; is required? <a href="https://twitter.com/hashtag/sociotech?src=hash&amp;ref_src=twsrc%5Etfw">#sociotech</a></p>--- Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1013385039701250048?ref_src=twsrc%5Etfw">July 1, 2018</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/0.0.18 on 22/08/2023 17:48</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?4b9fb629ca2"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
