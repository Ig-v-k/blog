<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Getters and setters is a terrible anti-pattern in object-oriented programming and should be avoided. This article explains why." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Getters/Setters. Evil. Period."/> <meta name="twitter:description" property="og:description" content="Getters and setters is a terrible anti-pattern in object-oriented programming and should be avoided. This article explains why."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/russian/2014/09/16/getters-and-setters-are-evil.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?b4eea1aa36b"/> <link rel="apple-touch-icon" href="/favicon.ico?b4eea1aa36b"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?b4eea1aa36b"/> <link rel="stylesheet" href="/css/icons.css?b4eea1aa36b"/> <link rel="canonical" href="https://www.yegor256.com/russian/2014/09/16/getters-and-setters-are-evil.html" /> <title>Getters/Setters. Evil. Period.</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Getters/Setters. Evil. Period.</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a translation of the <a href='https://www.yegor256.com/2014/09/16/getters-and-setters-are-evil.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>Существует старый спор, начатый в 2003 году Алленом Холубом в его знаменитой статье <a href="http://www.javaworld.com/article/2073723/core-java/why-getter-and-setter-methods-are-evil.html">Почему методы-геттеры и методы-сеттеры - это зло</a>, о том, является ли использование геттеров/сеттеров <a href="">анти-паттерном</a>, который следует избегать, или же это неизбежная необходимость в объектно-ориентированном программировании. Я попытаюсь внести свои пять копеек в эту дискуссию.</p><p>Суть следующего текста заключается в следующем: использование геттеров и сеттеров – ужасная практика, и тех, кто ее использует, не следует оправдывать. Еще раз, чтобы избежать недоразумений, я не говорю, что геттеры и сеттеры следует избегать, когда это возможно. Нет. Я говорю о том, что их ни в коем случае не следует использовать в вашем коде.</p><p>Достаточно высокомерный, чтобы привлечь ваше внимание? Вы использовали этот шаблон get/set в течение 15 лет и являетесь уважаемым архитектором Java? И вам не хочется слушать эту ерунду от незнакомца? Я понимаю ваши чувства. Я почти также почувствовал, когда наткнулся на книгу <a href="http://amzn.to/266oJr4">Object Thinking</a> Дэвида Уэста, лучшую книгу о объектно-ориентированном программировании, которую я когда-либо читал. Так что, пожалуйста, успокойтесь и попробуйте понять, пока я пытаюсь объяснить.</p><h2 id="existing-arguments">Existing Arguments</h2><p>Есть несколько аргументов против “аксессоров” (еще одно название для геттеров <del>и сеттеров</del>) в объектно-ориентированном мире. Я считаю, что все они недостаточно убедительны. Давайте кратко рассмотрим их.</p><p><strong>Говорите, не спрашивайте</strong> Аллен Холуб говорит: “Не спрашивайте информацию, которая вам нужна для работы; попросите объект, который содержит информацию, чтобы сделать работу за вас.”</p><p><strong>Нарушен принцип инкапсуляции</strong> Объект может быть разрушен другими объектами, поскольку они могут внедрять в него любые новые данные через сеттеры. Объект просто не может обеспечить достаточную безопасность своего собственного состояния, поскольку любой может его изменить.</p><p><strong>Реализация с открытыми деталями</strong> Если мы можем получить объект из другого объекта, мы слишком сильно полагаемся на детали реализации первого объекта. Если завтра они изменятся, скажем, тип этого результата, нам придется также изменить наш код.</p><p>All these justifications are reasonable, but they are missing the main point.</p><h2 id="fundamental-disbelief">Fundamental Disbelief</h2><p>Большинство программистов считают, что объект - это структура данных с методами. Я процитирую статью Божидара Божанова “Геттеры и сеттеры не зло” (Getters and Setters Are Not Evil), доступную по ссылке http://java.dzone.com/articles/getters-and-setters-are-not.</p><p>But the majority of objects for which people generate getters and setters are simple data holders.</p><p>Это заблуждение является последствием серьезного недопонимания! Объекты не являются “простыми хранилищами данных”. Объекты <em>не</em> являются структурами данных с прикрепленными методами. Концепция “хранилища данных” перешла в объектно-ориентированное программирование из процедурных языков, особенно из C и COBOL. Я повторю еще раз: объект <em>не</em> является набором данных и функций, которые их обрабатывают. Объект <em>не</em> является сущностью данных.</p><p>What is it then?</p><h2 id="a-ball-and-a-dog">A Ball and A Dog</h2><p>В истинном объектно-ориентированном программировании объекты являются живыми существами, подобно вам и мне. Они являются живыми организмами со своим поведением, свойствами и жизненным циклом.</p><p>Может ли живой организм иметь установщика? Можно ли “установить” мяч собаке? На самом деле, нет. Но именно это делает следующее программное обеспечение.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dog dog = new Dog();
dog.setBall(new Ball());
</code></pre></div></div><p>How does that sound?</p><p>Можно ли достать мяч у собаки? Вполне вероятно, если она его съела и вам предстоит хирургическая операция. В этом случае, да, мы можем “достать” мяч у собаки. Вот о чем я говорю:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dog dog = new Dog();
Ball ball = dog.getBall();
</code></pre></div></div><p>Or an even more ridiculous example:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dog dog = new Dog();
dog.setWeight("23kg");
</code></pre></div></div><p>Can you imagine this transaction in the real world?</p><p>Выглядит ли это похожим на то, что вы пишете каждый день? Если да, значит, вы процедурный программист. Признайтесь. И вот что об этом говорит Дэвид Уэст на странице 30 своей книги:</p><p>Step one in the transformation of a successful procedural developer into a successful object developer is a lobotomy.</p><p>Вам нужна лоботомия? Что ж, мне определенно нужна была одна и я получил ее, читая <a href="http://amzn.to/266oJr4">Object Thinking</a> Веста.</p><h2 id="object-thinking">Object Thinking</h2><p>Start thinking like an object and you will immediately rename those methods. This is what you will probably get:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dog dog = new Dog();
dog.take(new Ball());
Ball ball = dog.give();
</code></pre></div></div><p>Сейчас мы относимся к собаке как к настоящему животному, которое может взять мяч у нас и вернуть его, когда мы просим. Стоит отметить, что собака не может вернуть <code class="language-plaintext highlighter-rouge">NULL</code>. Собаки просто не знают, что такое <code class="language-plaintext highlighter-rouge">NULL</code>. Объектное мышление сразу же исключает <a href="">NULL-ссылки</a> из вашего кода.</p><p>Кроме того, объектное мышление приведет к неизменяемости объекта, как в примере с “весом собаки”. Вы бы переписали это следующим образом:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dog dog = new Dog("23kg");
int weight = dog.weight();
</code></pre></div></div><p>Собака - неизменный живой организм, который не позволяет никому снаружи изменять ее вес, размер, имя и т.д. По запросу она может сообщить свой вес или имя. Нет ничего плохого в публичных методах, которые демонстрируют запросы для определенных “внутренних” частей объекта. Но эти методы не являются “геттерами” и никогда не должны иметь префикс “get”. Мы не “получаем” ничего от собаки. Мы не получаем ее имя. Мы просим ее рассказать нам свое имя. Видите разницу?</p><p>Мы здесь не обсуждаем семантику. Мы различаем мышление процедурного программирования от объектно-ориентированного. В процедурном программировании мы работаем с данными, манипулируем ими, получаем, устанавливаем и удаляем их при необходимости. Мы контролируем, а данные являются только пассивным компонентом. Собака ничего для нас не значит - она просто “хранитель данных”. У нее нет своей собственной жизни. Мы свободны получать все необходимое от нее и устанавливать любые данные в нее. Так работают (работали) языки программирования C, COBOL, Pascal и многие другие процедурные языки.</p><p>Наоборот, в настоящем объектно-ориентированном мире мы относимся к объектам, как к живым организмам, с собственной датой рождения и моментом смерти - с собственной идентичностью и привычками, если хотите. Мы можем попросить собаку дать нам некоторую информацию (например, ее вес), и она может передать нам эту информацию. Но мы всегда помним, что собака является активным компонентом. Она решает, что произойдет после нашего запроса.</p><p>Поэтому <em>концептуально неправильно иметь методы, начинающиеся с <code class="language-plaintext highlighter-rouge">set</code> или <code class="language-plaintext highlighter-rouge">get</code> в объекте</em>. И это не связано с нарушением <a href="">инкапсуляции</a>, как многие утверждают. Это либо вы думаете как объект, либо все еще пишете на языке Java в стиле COBOL.</p><p>PS. Да, вы можете спросить, что насчет JavaBeans, JPA, JAXB и многих других Java API, которые полагаются на обозначение get/set? Что насчет встроенной <a href="http://ruby-doc.org/docs/ruby-doc-bundle/UsersGuide/rg/accessors.html">функции</a> в Ruby, которая упрощает создание аксессоров? Что ж, все это наша <a href="">неудача</a>. Гораздо проще остаться в примитивном мире процедурного COBOL, чем по-настоящему понять и оценить прекрасный мир истинных объектов.</p><p>PPS. Забыл сказать, да, внедрение зависимостей через сеттеры также является ужасным анти-паттерном. Об этом будет рассказано в одном из следующих постов.</p><p>PPPS. Here is what I’m suggesting to use instead of getters: <a href="">printers</a>.</p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">Getters-and-setters is ...</p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1256977935451422723?ref_src=twsrc%5Etfw">May 3, 2020</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/0.0.20 on 2023-08-23 at 07:54</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?b4eea1aa36b"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
