<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Since getters are an anti-pattern, how are we supposed to convert an object to, say, JSON or plain text? I'm suggesting to use printers." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Printers Instead of Getters"/> <meta name="twitter:description" property="og:description" content="Since getters are an anti-pattern, how are we supposed to convert an object to, say, JSON or plain text? I'm suggesting to use printers."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/chinese/2016/04/05/printers-instead-of-getters.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?3a3b5d6c83f"/> <link rel="apple-touch-icon" href="/favicon.ico?3a3b5d6c83f"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?3a3b5d6c83f"/> <link rel="stylesheet" href="/css/icons.css?3a3b5d6c83f"/> <link rel="canonical" href="https://www.yegor256.com/chinese/2016/04/05/printers-instead-of-getters.html" /> <title>Printers Instead of Getters</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Printers Instead of Getters</h1></header> <article class="main" itemprop="articleBody"><p style="color: #C42C00;">The following text is a translation of the <a href='https://www.yegor256.com/2016/04/05/printers-instead-of-getters.html'>original article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo):</p><p>Getters and setters are evil. No need to argue about this, it’s settled. You disagree? Let’s discuss that later. For now, let’s say, we want to get rid of getters. The key question is how is it possible at all? We do need to get the data out of an object, right? Nope. Wrong.</p><p>Je suggère d’utiliser “imprimantes” à la place. Au lieu d’exposer les données via des getters, un objet aura une fonctionnalité d’impression sur un support donné.</p><p>Let’s say this is our class:</p><p>java public class Book { private final String isbn = “0735619654”; private final String title = “Object Thinking”; }</p><p>Nous avons besoin qu’il soit transféré au format XML. Une manière plus ou moins traditionnelle de le faire est via les getters et JAXB.</p><p>Please, translate this paragraph from English to French, don’t change proper nouns:</p><p>java import javax.xml.bind.annotation.XmlElement; import javax.xml.bind.annotation.XmlRootElement; @XmlRootElement public class Book { private final String isbn = “0735619654”; private final String title = “Object Thinking”; @XmlElement public String getIsbn() { return this.isbn; } @XmlElement public String getTitle() { return this.title; } }</p><p>Ceci est une manière très offensante de traiter l’objet. Fondamentalement, nous exposons tout ce qui se trouve à l’intérieur au public. C’était un joli petit objet solide autonome et nous l’avons transformé en un sac de données, auquel n’importe qui peut accéder de plusieurs façons possibles. Nous pouvons bien sûr y accéder pour le lire.</p><p>Il est pratique d’avoir ces getters, peut-on dire. Nous y sommes tous habitués. Si nous voulons le convertir en JSON, ils seront très utiles. Si nous voulons utiliser cet objet pauvre comme objet de données dans JSP, les getters nous aideront. Il existe de nombreux exemples en Java où les getters sont activement utilisés.</p><p>Ceci n’est pas parce qu’ils sont si efficaces. C’est parce que nous sommes si procéduraux dans notre façon de penser. Nous ne faisons pas confiance à nos objets. Nous faisons seulement confiance aux données qu’ils stockent. Nous ne voulons pas que cet objet Livre génère le XML. Nous voulons qu’il nous donne les données. Nous construirons le XML. Le Livre est trop stupide pour faire ce travail. Nous sommes beaucoup plus intelligents !</p><p>Je suggère d’arrêter de penser de cette façon. Au lieu de cela, essayons de donner une chance à ce pauvre livre et équipons-le d’une “imprimante”.</p><p>java public class Book { private final String isbn = “0735619654”; private final String title = “Object Thinking”; public String toXML() { return String.format( “<book><isbn>%s</isbn><title>%s</title></book>”, this.isbn, this.title ); } }</p><p>Please, translate this paragraph from English to French, don’t change proper nouns:</p><p>java public class Book { private final String isbn = “0735619654”; private final String title = “Object Thinking”; public String toXML() { return String.format( “<book><isbn>%s</isbn><title>%s</title></book>”, this.isbn, this.title ); } }</p><p>Ce n’est pas la meilleure implémentation, mais vous avez saisi l’idée. L’objet ne expose plus ses détails internes. Nous ne pouvons pas obtenir son ISBN et son titre. Nous pouvons seulement lui demander de s’imprimer au format XML.</p><p>Nous pouvons ajouter une imprimante supplémentaire, si un autre format est requis.</p><p>java public class Book { private final String isbn = “0735619654”; private final String title = “Object Thinking”; public String toJSON() { return String.format( “{"isbn":"%s", "title":"%s"}”, this.isbn, this.title ); } }</p><p>Encore une fois, ce n’est pas la meilleure mise en œuvre, mais vous voyez ce que j’essaie de montrer. Chaque fois que nous avons besoin d’un nouveau format, nous créons une nouvelle imprimante.</p><p>Vous pouvez dire que l’objet sera assez grand s’il y a beaucoup de formats. C’est vrai, mais un gros objet est une mauvaise conception en premier lieu. Je dirais que s’il y a plus d’une imprimante, c’est un problème.</p><p>Donc, que faire si nous avons besoin de plusieurs formats ? Utilisez “média”, là où les imprimantes pourront imprimer. Disons que nous avons un objet qui représente un enregistrement dans MySQL. Nous voulons qu’il puisse être imprimé en XML, HTML, JSON, un format binaire et Dieu sait quoi d’autre. Nous pouvons ajouter autant d’imprimantes que nécessaire, mais l’objet deviendra grand et laid. Pour éviter cela, introduisez un nouvel objet qui représente le support sur lequel les données seront imprimées :</p><p>S’il vous plaît, traduisez ce paragraphe de l’anglais en français, sans changer les noms propres :</p><p>java public class Book { private final String isbn = “0735619654”; private final String title = “Object Thinking”; public Media print(Media media) { return media .with(“isbn”, this.isbn) .with(“title”, this.title); } }</p><p>Encore une fois, c’est une conception très primitive de cette classe Media immuable, mais vous avez compris l’idée — les médias acceptent les données. Maintenant, nous voulons imprimer notre objet en JSON (cette conception n’est pas vraiment parfaite, car JsonObjectBuilder n’est pas immuable, même s’il en a l’apparence…).</p><p>java classe JsonMedia implements Media { private final JsonObjectBuilder builder; JsonMedia() { this(“book”); } JsonMedia(String head) { this(Json.createObjectBuilder().add(head)); } JsonMedia(JsonObjectBuilder bdr) { this.builder = bdr; } @Override public Media with(String name, String value) { return new JsonMedia( this.builder.add(name, value) ); } public JsonObject json() { return this.builder.build(); } }</p><p>Maintenant, nous créons une instance de JsonMedia et demandons à notre livre de s’imprimer lui-même là-bas:</p><p>java JsonMedia media = new JsonMedia(“book”); media = book.print(media); JsonObject json = media.json();</p><p>Here you go! Le JSON object est prêt et le livre n’a aucune idée de ce qui a été imprimé exactement à l’instant. Nous devons imprimer le livre en XML ? Nous créons XmlMedia, qui imprimerera le livre en XML. La classe Book reste petite, tandis que la complexité des objets “media” est illimitée.</p><p>Mon point ici est simple - pas de chercheurs, juste des imprimeurs !</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/0.0.14</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?3a3b5d6c83f"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
