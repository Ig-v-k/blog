<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="I often hear that having too many classes in an object-oriented design is a problem; let's investigate when this is likely to happen and how to handle it correctly." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="How to Handle the Problem of Too Many Classes"/> <meta name="twitter:description" property="og:description" content="I often hear that having too many classes in an object-oriented design is a problem; let's investigate when this is likely to happen and how to handle it correctly."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/chinese/2017/02/28/too-many-classes.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?3a3b5d6c83f"/> <link rel="apple-touch-icon" href="/favicon.ico?3a3b5d6c83f"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?3a3b5d6c83f"/> <link rel="stylesheet" href="/css/icons.css?3a3b5d6c83f"/> <link rel="canonical" href="https://www.yegor256.com/chinese/2017/02/28/too-many-classes.html" /> <title>How to Handle the Problem of Too Many Classes</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">How to Handle the Problem of Too Many Classes</h1></header> <article class="main" itemprop="articleBody"><p style="color: #C42C00;">The following text is a translation of the <a href='https://www.yegor256.com/2017/02/28/too-many-classes.html'>original article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo):</p><p>Pendant presque chaque présentation où j’explique ma vision de la programmation orientée objet, il y a toujours quelqu’un qui partage un commentaire comme celui-ci : “Si nous suivons vos conseils, nous aurons tellement de petites classes.” Et ma réponse est toujours la même : “Bien sûr que oui, et c’est génial !” Je crois sincèrement que même si vous ne considérez pas “avoir beaucoup de classes” comme une vertu, vous ne pouvez pas non plus le considérer comme un inconvénient de n’importe quel code vraiment orienté objet. Cependant, il peut arriver un moment où les classes deviennent un problème ; voyons quand, comment et quoi faire à ce sujet.</p><p>Il y avait un certain nombre de “règles” mentionnées précédemment qui, si elles étaient appliquées, conduiraient évidemment à un grand nombre de classes, notamment: a) toutes les méthodes publiques doivent être déclarées dans les interfaces; b) les objets ne doivent pas avoir plus de quatre attributs (Section 2.1 d’Elegant Objects); c) les méthodes statiques ne sont pas autorisées; d) les constructeurs doivent être exempts de code; e) les objets doivent exposer moins de cinq méthodes publiques (Section 3.1 d’Elegant Objects).</p><p>La plus grande préoccupation, bien sûr, est la maintenabilité : “Si, au lieu de 50 classes plus longues, nous avions 300 plus courtes, alors le code serait beaucoup moins lisible.” Cela se produira très certainement si vous les concevez mal.</p><p>Les types (ou classes) en OOP constituent votre vocabulaire, ce qui explique le monde autour de votre code - le monde dans lequel votre code vit. Plus riche est le vocabulaire, plus puissant est votre code. Plus vous avez de types, mieux vous pouvez comprendre et expliquer le monde.</p><p>Si votre vocabulaire est suffisamment étendu, vous direz quelque chose du genre:</p><p>Lisez le livre qui est sur la table.</p><p>Avec un vocabulaire beaucoup plus restreint, la même phrase sonnerait comme suit :</p><p>Faites-le avec la chose qui est sur cette chose.</p><p>Évidemment, il est plus facile de lire et de comprendre la première phrase. Il en va de même pour les types en POO : plus vous en avez à votre disposition, plus votre code est expressif, clair et lisible.</p><p>Malheureusement, Java et de nombreux autres langages ne sont pas conçus en ayant cela à l’esprit. Les packages, les modules et les espaces de noms ne sont pas vraiment utiles, et nous finissons souvent avec des noms tels que AbstractCooKyivalueMethodArgumentResolver (Spring) ou CombineFileRecordReaderWrapper (Hadoop). Nous essayons de mettre autant de sémantique que possible dans les noms de classe pour que leurs utilisateurs n’aient aucun doute. Ensuite, nous essayons de mettre autant de méthodes que possible dans une seule classe pour faciliter la vie des utilisateurs ; ils utiliseront les indices de leur IDE pour trouver la bonne méthode.</p><p>This is anything but OOP.</p><p>Si votre code est orienté objet, vos classes doivent être petites, leurs noms doivent être des noms communs et les noms de leurs méthodes doivent être composés d’un seul mot. Voici ce que je fais dans mon code pour que cela se produise :</p><p>Interfaces sont des noms. Par exemple, Request, Directive ou Domain. Il n’y a pas d’exceptions. Les types (également appelés interfaces en Java) sont la partie centrale de mon vocabulaire ; ils doivent être des noms.</p><p>Les classes sont préfixées. Mes classes implémentent toujours des interfaces. Grâce à cela, je peux dire qu’elles sont toujours des requêtes, des directives ou des domaines. Et je veux toujours que leurs utilisateurs s’en souviennent. Les préfixes aident. Par exemple, RqBuffered est une requête mise en mémoire tampon, RqSimple est une requête simple, RqLive est une requête qui représente une connexion HTTP “en direct”, et RqWithHeader est une requête avec un en-tête supplémentaire.</p><p>Une approche alternative consiste à utiliser le nom du type en tant que partie centrale du nom de la classe et à ajouter un préfixe qui explique les détails de l’implémentation. Par exemple, DyDomain est un domaine qui persiste ses données dans DynamoDB. Une fois que vous savez à quoi sert ce préfixe Dy, vous pouvez facilement comprendre de quoi il s’agit avec DyUser et DyBase.</p><p>Dans une application de taille moyenne ou une bibliothèque, il y aura au maximum 10 à 15 préfixes que vous devrez retenir. Par exemple, dans le framework Takes, il y a 24 000 lignes de code, 410 fichiers Java et 10 préfixes : Bc, Cc, Tk, Rq, Rs, Fb, Fk, Hm, Ps et Xe. Pas si difficile de se souvenir de ce qu’ils signifient, n’est-ce pas ?</p><p>Parmi les 240 classes, le nom le plus long est RqWithDefaultHeader.</p><p>Je trouve cette approche de nommage des classes plutôt pratique. Je l’ai utilisée dans ces projets open source (sur GitHub) : yegor256/takes (10 préfixes), yegor256/jare (5 préfixes), yegor256/rultor (6 préfixes), et yegor256/wring (5 préfixes).</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/0.0.14</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?3a3b5d6c83f"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
