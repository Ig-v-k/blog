<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Four NOs of a Serious Code Reviewer"/> <meta name="twitter:description" property="og:description" content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/chinese/2015/02/09/serious-code-reviewer.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?4b9fb629ca2"/> <link rel="apple-touch-icon" href="/favicon.ico?4b9fb629ca2"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?4b9fb629ca2"/> <link rel="stylesheet" href="/css/icons.css?4b9fb629ca2"/> <link rel="canonical" href="https://www.yegor256.com/chinese/2015/02/09/serious-code-reviewer.html" /> <title>Four NOs of a Serious Code Reviewer</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Four NOs of a Serious Code Reviewer</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a translation of the <a href='https://www.yegor256.com/2015/02/09/serious-code-reviewer.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>代码审查（又称同行审查）对于每个认真的软件开发团队来说，必须是一项强制性的实践。我希望这个问题没有争议。有些团队进行合并前的代码审查，以防止意外错误影响他们的主分支/开发分支。其他团队则在合并后进行定期审查，以发现作者引入的错误和不一致之处。还有一些团队两者都做，合并前进行审查，合并后定期审查。代码审查非常类似于白盒测试技术，测试人员可以完全访问软件源代码，寻找缺陷。无论哪种情况，代码审查都是提高质量和推动团队动力的重要工具。</p><p>然而，要做对这些并不那么简单。我甚至会说，做错这些非常容易和舒服。我见过的大多数代码审查和审查者都犯了类似的错误。这就是为什么我决定总结我认为良好的审查者应遵循的四个基本原则。希望你会觉得它们有用。</p><p>严肃的代码审查人员应该放弃几种不同的恐惧。第一种也是最常见的是害怕冒犯代码作者的恐惧。“我最好闭上眼睛，假装今天没有看到她的错误，这样明天她就会忽略我的错误”——这种态度就是这种恐惧所产生的。不用说，这种做法是适得其反的，它会降低代码质量和团队士气。这是我的建议：直接、诚实、坦率。如果你不喜欢这段代码，就是不喜欢。你不应该在意你的意见会被代码作者如何接受。</p><p>如果您对同事有这样的感觉，那么管理模式就有问题了。您害怕被团队拒绝，因为“不是团队合作者”的标签是由团队中最弱的成员贴上的，而不是项目赞助商。赞助商付给您以生产高质量软件的报酬。赞助商并不在乎您提高质量意图会冒犯其他人，他们并不关心。赞助商希望他的资金能生产出可销售给客户并带回利润的可交付成果。赞助商并不是支付您在办公室交朋友的费用。</p><p>下一种恐惧的情况听起来是这样的：”如果我拒绝这段代码，我会延迟发布。”再次强调，这种态度对整个项目造成了重大的不利影响。你将接受这段代码，并对其中你不喜欢的部分视而不见。这段代码将被包含在下一个发布版本中，我们将更早地进行发货。你不会成为阻碍，也没有人会说因为那个教条的代码审查者，我们延迟了发布并丢失了一些现金。你会成为一个好的团队合作成员，对吗？错！</p><p>如我之前所提到的，一位专业的团队成员明白他或她在项目中的个人角色，并不会为任何人蒙混过关。如果拒绝糟糕的代码导致项目延迟发布，那是代码作者的责任。你的职责就是让这个错误显而易见。这样才能帮助团队学习和改进。</p><p>我认为显而易见的是，团队的教育和提升首先需要淘汰糟糕的程序员并提拔优秀的人员。诚实无畏的代码审查者有助于团队学习和进步。</p><p>另一个担忧是这样表达的：“我可能错了，他们会嘲笑我”。更糟糕的是，他们可能会发现我知识的不足。他们可能会看出我不知道自己在做什么。最好还是保持沉默，假装代码没有错误。至少这样我就不会因为愚蠢的评论而让自己尴尬。你知道保持沉默会让你看起来更聪明，对吗？错了！</p><p>这个项目不是为了让你看起来好而支付你报酬。你得到薪水不是因为团队喜欢你，而是因为你每天都能交付成果。你的职业责任是为项目做最好的事情，并忽略所有人的意见，包括你的老板的意见。就像《一个快乐的老板是虚假的目标》一文所说，我认为团队的尊重是一个虚假的目标。不要试图去赢得尊重。相反，创造干净的代码，尊重将自动而来。</p><p>让我再重申一次：不要害怕因为对某人的代码发表错误和愚蠢的评论而让自己尴尬。要忠于项目，而不是周围人的期望。他们期望你聪明伶俐，但项目期望你说出你对代码的真实看法。所以别管他们的意见，做正确的事情，说出你真正的想法。</p><p>好的，你勇敢地表达了你对代码的看法，并且毫不犹豫地予以了拒绝。你正在审查的分支不太好，而且你解释了原因。你要求作者在这里进行重构，并在那里进行重新编写。接下来是什么？</p><p>他或她会试图与你达成协议。这是自然的，在我们团队的几乎每个部门都会发生这种情况。代码的作者也是一位专业开发者，他也毫不畏惧。因此，他坚持认为他的实现方法是正确的，而你的想法是错误的。在这种情况下，一个专业的代码审查者应该怎么做？</p><p>最糟糕的事情（在任何冲突解决中）就是妥协。这比糟糕的代码更快地破坏了质量。妥协是一种冲突解决技巧，双方同意为了停止冲突而放弃他们想要的东西。换句话说，“让我们和平相处，停止争斗。”这是最糟糕的方法。</p><p>与其勉强妥协，争论一段代码时有三种专业的解决方案：</p><p>“You’re right; I take my comments back!” This may happen, and it should happen very often. You should be ready to admit your mistakes. You didn’t like the code, but its author explained to you its benefits, and you accepted the logic—not because you want to stop fighting with him but because you really understood the logic and accepted it. Willingness to say, “I’m wrong,” is the first sign of a mature and serious developer.</p><p>“I will never accept this, period!” Some code deserves that, and there is nothing wrong with resolving a conflict this way. The opponent may accept the situation and re-write everything. And learn something too.</p><p>“Let’s do what the architect says!” In every project, there is a software architect who makes final decisions. Appeal to his opinion and get his final decision. Invite him into the discussion, and ask him to take one side in the conflict. Once he tells you that you’re wrong, accept the decision and try to learn from it.</p><p>因此，要么坚守立场并为之奋斗，要么承认自己的错误。无论哪种方式，但不要妥协！</p><p>不要误会我的意思；这并不是固执地坚持你手中的牌，不管它们有多糟糕。要灵活并且在现场学习。在谈判过程中，你的立场可能会改变，也应该改变，但不要接受任何你不喜欢的东西。你可以通过完全相信对手是对的或者建筑师说可以退出冲突。没有中间地带。</p><p>再次，你毫不畏惧地表示这个方法应该设计得不同。你的对手，代码的作者，回答说他不这么认为。你再次仔细看了一下，并决定坚持你的立场。你仍然认为自己是对的，而且不打算妥协。现在怎么办？现在找建筑师还为时过早，所以试着说服你的对手。</p><p>在大多数情况下，说服就是教育。你知道一些他不知道的事情。这就是为什么他创造了你不喜欢的方法。你们其中一个需要额外的教育。这是你成为同事的老师的机会。要成为一个有效的教师，你需要提供证据。你需要基于逻辑，并确保他理解并接受它。</p><p>请准备好展示链接、文章、书籍、报告、例子等等。仅凭“我知道这个因为我已经写了15年的Java”是不够的。此外，这种类型的论证只会让你的说服力减弱。</p><p>如果你没有足够令人信服的证据，再想一想——也许你错了。</p><p>另外，请记住，你的工作是证明你正在审查的代码是糟糕的。代码的作者不需要证明任何事情。他的代码默认就是很棒的。审查者的工作是展示为什么以及如何实际上不是这样的。换句话说，你是原告，他是被告。不是相反的情况。</p><p>这是最后也是最难遵循的原则。无论代码有多糟糕，对手有多固执，你都必须保持专业。说实话，有时我发现这非常困难。在Zerocracy，我们在分布式团队中工作，并每周雇佣几个新人。尽管我们有招聘标准，但其中一些人似乎相当难以应对。</p><p>大约一年前，我遇到了一个有趣的情况。当时一个新人应该在一个现有的Java库中创建一个小的功能（大约20到30行代码）。他提交了一个拉取请求（我是代码审查员），但他放进去的代码有几百行，而且是完全糟糕的，显然不是他自己写的。我立刻明白他从某处找到了这些代码并复制了过来。但是我能怎么办呢？我怎么能拒绝它而不说他的态度对于一个专业开发者来说是不可接受的呢？我不得不花些时间客观地指责他的代码风格、设计等问题。我不得不发表许多严肃的评论，以向他表明要修复这一切，他应该删除那些垃圾代码并从头重新编写。在那之后，我再也没有见过他了。</p><p>我的观点是，当你与专业人士打交道时，成为专业人士是很容易的。不幸的是，情况并非总是如此。但无论你面前的代码有多糟糕，都要保持耐心和说服力。</p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">What do you feel when your pull request is rejected and a lot of &quot;re-work&quot; is required? <a href="https://twitter.com/hashtag/sociotech?src=hash&amp;ref_src=twsrc%5Etfw">#sociotech</a></p>--- Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1013385039701250048?ref_src=twsrc%5Etfw">July 1, 2018</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/0.0.18 on 22/08/2023 17:46</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?4b9fb629ca2"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
