<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Making your code base visible to everyone doesn't make it an open source project yet; there are a number of important things you shouldn't forget to do." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="An Open Code Base Is Not Yet an Open Source Project"/> <meta name="twitter:description" property="og:description" content="Making your code base visible to everyone doesn't make it an open source project yet; there are a number of important things you shouldn't forget to do."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/ru/2018/05/08/open-source-attributes.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?278749a84ec"/> <link rel="apple-touch-icon" href="/favicon.ico?278749a84ec"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?278749a84ec"/> <link rel="stylesheet" href="/css/icons.css?278749a84ec"/> <link rel="canonical" href="https://www.yegor256.com/ru/2018/05/08/open-source-attributes.html" /> <title>An Open Code Base Is Not Yet an Open Source Project</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;387</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">An Open Code Base Is Not Yet an Open Source Project</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2018/05/08/open-source-attributes.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>Несколько недель назад кто-то <a href="https://www.yegor256.com/2018/04/10/learning-by-refactoring.html#comment-3865410512">предложил</a> мне попробовать интегрировать правила статического анализа <a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> в Qulice, наш агрегатор <a href="http://checkstyle.sourceforge.net/">Checkstyle</a>, <a href="http://pmd.sourceforge.net/">PMD</a>, <a href="http://findbugs.sourceforge.net/">FindBugs</a> и других анализаторов. Мне очень нравятся правила IDEA - некоторые из них уникальны и очень полезны. Я спросил, можно ли найти их где-нибудь в Maven Central (они написаны на Java), и ответ был: “Тебе придется самому разобраться, как их использовать, но они открытые исходники”. Вот мое мнение по этой ситуации: я считаю, что открытый исходный код означает не только возможность читать его без авторизации. Это значит гораздо больше.</p><p>Просто сделать код общедоступным не достаточно, чтобы назвать его программным обеспечением <em>открытого исходного кода</em>. На самом деле, это только наносит вред продукту и репутации его автора, если он открыт, но не готов для <em>повторного использования</em> (что является основой для открытого исходного кода). Как сказал <a href="https://en.wikipedia.org/wiki/Eric_S._Raymond">Эрик Реймонд</a> в его знаменитой работе <a href="https://amzn.to/2FKF9tv"><em>Собор и базар</em></a>, “Хорошие программисты знают, что написать. Великие знают, что переписать (и повторно использовать)”.</p><p>Обязанностью автора программного продукта является помощь “хорошим” программистам в повторном использовании кода. Написание, тестирование, отладка и убеждение в том, что “это работает на моем ноутбуке” - это одно. Создание читаемого и многократно используемого кода - это совершенно другая задача, которая может занять гораздо больше времени.</p><p>Как сказал <a href="https://en.wikipedia.org/wiki/Karl_Fogel">Карл Фогель</a> в <a href="https://amzn.to/2jyMrrF"><em>Производство открытого программного обеспечения</em></a>: “Большинство проектов свободного программного обеспечения проваливаются.” Они терпят неудачу (наряду с многими другими факторами), потому что недостаточно внимания уделяется следующим основным вещам (не в определенном порядке):</p><h2 id="readme">README</h2><p>Я уверен, что вы размещаете свой продукт на GitHub. (Если нет, что с вами не так?) В корневом каталоге должен быть файл <code class="language-plaintext highlighter-rouge">README</code>, который объясняет, о чем весь продукт и как им пользоваться. Несколько хороших примеров: <a href="https://github.com/leejarvis/slop/blob/master/README.md"><code class="language-plaintext highlighter-rouge">leejarvis/slop</code></a>, <a href="https://github.com/mongobee/mongobee/blob/master/README.md"><code class="language-plaintext highlighter-rouge">mongobee/mongobee</code></a>, <a href="https://github.com/ronmamo/reflections/blob/master/README.md"><code class="language-plaintext highlighter-rouge">ronmamo/reflections</code></a> и <a href="https://github.com/yegor256/takes/blob/master/README.md"><code class="language-plaintext highlighter-rouge">yegor256/takes</code></a> (этот мой). Несколько плохих примеров: <a href="https://github.com/qos-ch/slf4j/blob/master/README.md"><code class="language-plaintext highlighter-rouge">qos-ch/slf4j</code></a>, <a href="https://github.com/rzwitserloot/lombok/blob/master/README"><code class="language-plaintext highlighter-rouge">rzwitserloot/lombok</code></a>, и <a href="https://github.com/junit-team/junit4/blob/master/README.md"><code class="language-plaintext highlighter-rouge">junit4/blob</code></a> (не будьте как эти ребята).</p><p>Независимо от того, насколько богатым вы сделали свой веб-сайт, Javadoc, Wiki, рассылку и Twitter, README - это место, где мы ожидаем увидеть все. Только если и когда мы заинтересуемся, мы будем исследовать дальше и глубже. Прочтите файлы README в других проектах и скопируйте их лучшие идеи. README - это ваша визитная карточка, она должна сиять.</p><h2 id="license">License</h2><p>Большинство из нас не обращает внимания на <a href="https://en.wikipedia.org/wiki/Software_license">эту бюрократию</a>. Я тоже не обращал, до недавнего времени. Я думал, что как только мой код становится открытым, я могу забыть о любых правах и роялти. Они просто будут использовать мой код, и я не увижу никакой прибыли, никогда. Лицензия, которую я прикрепляю к нему, не имеет значения - все равно никто не читает ее. Это именно то, что происходит в большинстве случаев. Но только пока эти пользователи ничтожны.</p><p>Несколько лет назад я был архитектором в проекте программного обеспечения, и нам нужно было создать анализатор аппаратных компонентов, таких как ЦПУ, память, жесткий диск и т.д. Нам нужно было убедиться, что все они работают должным образом после выполнения довольно сложных и настраиваемых тестов. Моим очевидным предложением было использовать инструменты с открытым исходным кодом, которые выполнили бы тяжелую работу за нас. Нам оставалось только интегрировать их. Это была потрясающая идея, пока некоторые из нас не решили проверить лицензии этих инструментов.</p><p>Вот тогда я осознал, что я был настолько неправ, что не обратил внимания на то, что говорят лицензии. <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a>, например, которую мы нашли в нескольких инструментах, не позволяла нам использовать код, если наш продукт не был открытым исходным кодом. Поскольку мы создавали собственное программное обеспечение, мы поняли, что мы не можем использовать модули с <a href="https://en.wikipedia.org/wiki/Copyleft">copyleft</a> лицензией, только <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a>, <a href="https://en.wikipedia.org/wiki/BSD_licenses">BSD</a> или аналогичные.</p><p>Я предлагаю вам подумать о лицензии перед публикацией продукта. Я использовал <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a> во всех своих продуктах с 2016 года.</p><h2 id="distribution">Distribution</h2><p>Просто набор файлов <code class="language-plaintext highlighter-rouge">.rb</code> не является переиспользуемым Ruby-кодом. Ну, может быть, для тех хакеров, которых я так презираю, это так. Но для профессиональных разработчиков, которые слишком ленивы, чтобы читать свой собственный код, не говоря уже о чужом, это определенно не так.</p><p>«Возьми это с GitHub» больше не является вежливым обращением к нам - вашим коллегам-программистам. Это было так двадцать лет назад, но сейчас у нас есть репозитории. Вам нужно распространять свой продукт как «артефакт» через один из этих общедоступных репозиториев и делать возможным для нас получить его оттуда, пропустив этапы тестирования и упаковки, и просто использовать его как продукт (например, Ruby-пакет или Java JAR).</p><p>Я говорю о репозиториях, таких как <a href="https://search.maven.org/">Maven Central</a>, <a href="https://www.npmjs.com/">npmjs</a> или <a href="https://rubygems.org/">RubyGems</a>. Вам нужно найти способ разместить свой продукт там. Это не простая задача, хотя эти репозитории делают все возможное, чтобы упростить процесс. Мы используем Rultor во всех наших проектах, что помогает нам оптимизировать развертывание.</p><ul> <li><p><a href="https://github.com/yegor256/takes">yegor256/takes</a> в Maven Central (подробности);</p></li> <li><p><a href="https://github.com/yegor256/xcop">yegor256/xcop</a> в RubyGems (подробности);</p></li> <li><p>“<a href="https://github.com/yegor256/tacit">yegor256/tacit</a> в npmjs.”</p></li></ul><p><a href="https://en.wikipedia.org/wiki/Package_manager">Менеджеры пакетов</a>, такие как Maven, NPM, Rake, Grunt, Gradle и <a href="https://en.wikipedia.org/wiki/List_of_software_package_management_systems">другие</a>, являются стандартным и традиционным способом повторного использования открытого программного обеспечения (а также собственного). Если ваш продукт недоступен в общедоступном репозитории, то это не продукт, а просто набор кода.</p><h2 id="javadoc">Javadoc</h2><p>Мы все ненавидим писать документацию. И мы ненавидим библиотеки, которые не документированы. Обычно мне кажется скучным писать блоки Javadoc для своих классов, но я понимаю, что без них код, который я пишу внутри этих классов, не будет интересен никому.</p><p>Лучший формат для этих блоков Javadoc - “на примерах”. Вместо прозы я бы рекомендовал вам продемонстрировать, как использовать класс, особенно в сочетании с его соседями. Кроме того, я бы посоветовал вам <em>не</em> писать документацию в других местах, кроме этих блоков Javadoc. (Они существуют и на других языках, но имеют разные названия.)</p><p>Проблема с Javadoc заключается в том, что не так просто форматировать текст таким образом, чтобы он выглядел визуально привлекательно. Возможно, поэтому многие программисты все еще полагаются на вики или веб-сайты проектов. Я бы рекомендовал вам оставаться внутри блоков Javadoc и изучить их синтаксис форматирования.</p><h2 id="badges">Badges</h2><p>Как <a href="https://github.com/yegor256/takes">вы можете видеть</a>, мне нравятся значки. Прежде всего, они делают репозиторий выглядеть так, будто он “активно поддерживается”, особенно если эти значки зеленые. Они на самом деле не дают никакой ценной информации. Они в основном говорят: “Наш автор имеет очень хороший вкус, посмотрите, как идеально сочетаются наши цвета!”</p><p>Шутки в сторону, не так просто добавить все эти значки. Каждый значок потребует определенного времени, чтобы интегрировать стороннюю систему, чтобы убедиться, что цифры достаточно хорошие, чтобы гордиться ими, и чтобы все это оставалось под контролем. Если репозиторий не контролируется, значки в конечном итоге начнут выходить из строя.</p><h2 id="continuous-integration">Continuous Integration</h2><p>Для того чтобы использовать ваш код, мы должны ему доверять, то есть быть уверенными, что он работает или по крайней мере проходит автоматические тесты. (Нужно ли говорить, что у вас должны быть тесты?) Как мы можем быть уверены, что он работает? Ответом является CI. Мы должны иметь возможность видеть журналы последней сборки CI и убедиться, что они чистые.</p><p>Это вопрос доверия. Возможно, вы никогда не будете использовать эти Travis-сборки и просто будете игнорировать их красные и зеленые сигналы, но они важны для нас - ваших клиентов. Я добавляю значки Travis на все свои проекты сразу после создания нового репозитория.</p><h2 id="contribution-guidelines">Contribution Guidelines</h2><p>Для обычного наркомана GitHub’ом не составляет проблемы разобраться, как отправить вам pull request. Однако большинство из нас, по крайней мере вначале, будут активными пользователями, а не участниками проекта. Мы попытаемся использовать ваш продукт и попытаемся настроить его под свои нужды. Если мы потеряемся, мы уйдем, разочарованные.</p><p>Чтобы предотвратить это, вам необходимо объяснить, что должен делать дисциплинированный участник, чтобы внести изменения в ваш кодовую базу. Вот вопросы, которые я рекомендую вам ответить в вашем <a href="https://help.github.com/articles/setting-guidelines-for-repository-contributors/"><code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code></a>:</p><ul> <li><p>Как мне запустить автоматизированную сборку?</p></li> <li><p>На сколько большой/маленькой должна быть запрос на слияние (pull request), чтобы его приняли?</p></li> <li><p>Каковы ваши рекомендации по стилю?</p></li> <li><p>Каким образом ошибки должны быть сообщены, помечены, объяснены?</p></li> <li><p>Что делает хороший отчет об ошибке?</p></li></ul><p>Вот текст, который я использую во всех своих проектах: <a href="https://github.com/yegor256/takes/blob/master/.github/ISSUE_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">ISSUE_TEMPLATE.md</code></a> и <a href="https://github.com/yegor256/takes/blob/master/.github/PULL_REQUEST_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">PULL_REQUEST_TEMPLATE.md</code></a>.</p><h2 id="quality-wall">Quality Wall</h2><p>Наконец, если вам повезет, мы будем использовать ваш продукт и проявим интерес к его улучшению. Вы начнете получать наши pull-запросы. Вопрос в том, насколько быстро мы сможем испортить вашу кодовую базу. Мы это сделаем, если вы не защитите себя.</p><p>Если вы строго проверяете каждый запрос на слияние и отклоняете все, что не выглядит как «отличный» код, вы потеряете нас, ваших участников. Мы не хотим писать отличный код, мы хотим вносить изменения в ваш продукт, чтобы он стал более подходящим для <em>наших</em> потребностей. Великолепие кода — это <em>ваша</em> забота, а не наша.</p><p>С другой стороны, если вы принимаете все, что приходит, архитектура потеряет свою надежность (если она когда-либо имела ее) и вы снова потеряете нас, ваших участников. В этот раз вы потеряете нас, потому что продукт станет плохим, сложным в поддержке и вкладе.</p><p>Лучший способ поддерживать баланс - это “нанять” инструмент, который поможет вам: создавать автоматизацию, проводить статический анализ, выполнять автоматические тесты и контролировать покрытие кода. Вам нужно настроить продукт таким образом, чтобы он выдавал ошибку, когда изменения, внесенные кем-то, нарушают его внутренние требования к качеству. Я также использую для этого инструмент Rultor.</p><p>Я что-то забыл?</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/35 on 2023-09-15 at 14:35</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?278749a84ec"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
