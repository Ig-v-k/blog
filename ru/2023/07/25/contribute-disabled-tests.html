<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Instead of merely submitting bug reports, it can often be more efficient to contribute a pull request, complete with a disabled unit test and a detailed description of the problem." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="A Disabled Test In Lieu of a Bug Report"/> <meta name="twitter:description" property="og:description" content="Instead of merely submitting bug reports, it can often be more efficient to contribute a pull request, complete with a disabled unit test and a detailed description of the problem."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/ru/2023/07/25/contribute-disabled-tests.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?18ddfcd095e"/> <link rel="apple-touch-icon" href="/favicon.ico?18ddfcd095e"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?18ddfcd095e"/> <link rel="stylesheet" href="/css/icons.css?18ddfcd095e"/> <link rel="canonical" href="https://www.yegor256.com/ru/2023/07/25/contribute-disabled-tests.html" /> <title>A Disabled Test In Lieu of a Bug Report</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;389</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">A Disabled Test In Lieu of a Bug Report</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2023/07/25/contribute-disabled-tests.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>Когда вы находите ошибку в используемой вами библиотеке с открытым исходным кодом, что вы делаете? Вы отправляете проблему в GitHub (или в любую другую систему отслеживания задач). В проблеме вы описываете проблему наилучшим образом, желательно предоставляя рабочий пример кода, который автор библиотеки может запустить локально, чтобы воспроизвести ошибку. Если вы не предоставите им исполняемый фрагмент кода, они, скорее всего, попросят вас это сделать, если только ошибка не является тривиальной. Я предлагаю упростить рабочий процесс и предоставить им то, что они хотят, прямо в запросе на слияние: отправьте им ошибку в виде отключенного модульного теста.</p><p>Предположим, есть библиотека на языке Rust, которая предоставляет функцию <code class="language-plaintext highlighter-rouge">fibo()</code>, которая вычисляет <a href="https://ru.wikipedia.org/wiki/Числа_Фибоначчи">числа Фибоначчи</a>, которую вы можете использовать следующим образом:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let n = 23;
let x = fibo(n);
println!("The {n}th Fibonacci is {x}");
</code></pre></div></div><p>Вы запускаете его, и он выводит <code class="language-plaintext highlighter-rouge">17711</code>, что ошибочно является 22-м числом Фибоначчи, а не 23-м. Это определенно ошибка. Вы отправляете заявку, наподобие следующего:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I'm trying to use your library to calculate 
a Fibonacci  number, but for some reason, I'm 
getting a wrong result:  the 23rd number your 
library returns is 17711, while I'm expecting 
the number 28657. Please check and fix.
</code></pre></div></div><p>Они ответят: “Можете ли вы это доказать, пожалуйста? Покажите нам код!” и, вероятно, вы добавите этот код в тикет:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let x = fibo(23);
assert_eq!(28657, x);
</code></pre></div></div><p>Затем, если они дисциплинированные программисты, будет создан новый модульный тест и функция <code class="language-plaintext highlighter-rouge">fibo()</code> будет исправлена. Более того, если они очень дисциплинированные программисты, они представят тест в отдельном запросе на внесение изменений, отключив его. Затем, во втором запросе на внесение изменений, они внесут исправление.</p><p>Почему бы вам не помочь им и не пропустить этап предоставления проблемы? Просто сделайте первый запрос на внесение изменений с отключенным тестом внутри и добавьте к нему “головоломку”.</p><p>```rust // @todo #42 This test is disabled because the // fibo() function doesn’t work correctly // with this particular number, it returns // 17711 instead of 28657. Let’s fix it.</p><h1 id="test">[test]</h1><h1 id="ignore">[ignore]</h1><p>fn calculates<em>23rd</em>fibonacci<em>number() { let x = fibo(23); assert</em>eq!(28657, x); } ```</p><p>Такой пулл-реквест выполняет две функции: он служит как отчет об ошибке (это то, во что текст головоломки превратится после объединения пулл-реквеста), а также является тестом, воспроизводящим проблему. Он будет очень полезен команде по поддержке репозитория. Такой пулл-реквест экономит время, которое команда потратила бы на создание модульного теста. Кроме того, он экономит ваше время на создание отчета об ошибке, так как он будет создан автоматически средством обнаружения головоломок.</p><p>Это блоговая запись была вдохновлена <a href="https://github.com/jcabi/jcabi-xml/pull/212">этим пулл-реквестом</a> в библиотеке <a href="https://github.com/jcabi/jcabi-xml">jcabi/jcabi-xml</a>, где был добавлен отключенный модульный тест в кодовую базу специально для воспроизведения ошибки. В дополнение к тесту была добавлена головоломка, которая привела к <a href="https://github.com/jcabi/jcabi-xml/issues/213">новому тикету</a>, <a href="https://github.com/jcabi/jcabi-xml/pull/214">новому пулл-реквесту</a> и, наконец, <a href="https://github.com/jcabi/jcabi-xml/releases/tag/0.28.0">новому релизу</a> библиотеки.</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/36 on 2023-09-30 at 05:24</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?18ddfcd095e"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
