<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Hits-of-Code Instead of SLoC"/> <meta name="twitter:description" property="og:description" content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/ru/2014/11/14/hits-of-code.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?d1b9aa7d6e2"/> <link rel="apple-touch-icon" href="/favicon.ico?d1b9aa7d6e2"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?d1b9aa7d6e2"/> <link rel="stylesheet" href="/css/icons.css?d1b9aa7d6e2"/> <link rel="canonical" href="https://www.yegor256.com/ru/2014/11/14/hits-of-code.html" /> <title>Hits-of-Code Instead of SLoC</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;387</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Hits-of-Code Instead of SLoC</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2014/11/14/hits-of-code.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p><a href="https://en.wikipedia.org/wiki/Source_lines_of_code">Lines-of-Code</a> (известный также как SLoC) - это метрика с ужасной репутацией. Попробуйте <a href="https://www.google.com/search?q=line+of+code+metric">погуглить</a> ее сами и вы найдете множество статей, осуждающих ее недейственность и разрушительность для процесса разработки программного обеспечения. Основной аргумент заключается в том, что мы не можем измерить прогресс программирования по количеству написанных строк кода. Вероятно, самая известная цитата принадлежит <a href="https://en.wikipedia.org/wiki/Bill_Gates">Биллу Гейтсу</a>:</p><p>Измерение прогресса программирования по количеству строк кода — это, как измерение прогресса строительства самолета по весу.</p><p>В основном, это означает, что определенные части самолета потребуют гораздо больше усилий, при этом будут намного легче других (например, центральный компьютер). Вместо того чтобы измерять вес самолета, мы должны измерять усилия, вкладываемые в него… каким-то образом. Итак, вот идея. Что если мы измерим количество раз, когда программисты <strong>касаются</strong> строк. Вместо подсчета количества строк мы будем считать, сколько раз они были фактически изменены—эту информацию мы можем получить из Git (или любой другой системы контроля версий). Чем больше вы касаетесь этой части самолета—тем больше усилий вы вложили в нее, верно?</p><p>Я назвал это Hits-of-Code (HoC) и создал небольшой инструмент, чтобы помочь нам вычислить это число всего в одной строке. Это <a href="https://rubygems.org/gems/hoc">Ruby-пакет</a>, установите его и запустите:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem install hoc
$ hoc
54687
</code></pre></div></div><p>Число 54687 представляет собой общее количество кодовых хитов в вашей кодовой базе. Принцип, лежащий в основе этого числа, является примитивным - каждый раз, когда строка кода изменяется, создается или удаляется в коммите Git, счетчик увеличивается.</p><p>Основная причина того, почему эта метрика лучше, чем LoC, заключается в том, что она гораздо лучше соответствует реальным усилиям, вкладываемым в кодовую базу. Вот почему.</p><h2 id="it-always-increments">It Always Increments</h2><p>Метрика HoC всегда растет. Сегодня она не может быть ниже, чем вчера - так же, как и усилия, она всегда увеличивается. Кодовые строки не ведут себя таким образом. У вас может быть огромная база кода сегодня, но после рефакторинга она станет намного меньше. Количество строк кода уменьшается. Значит ли это, что вы менее эффективны? Определенно нет, но метрика LoC говорит об обратном для непрограммиста. Например, менеджер проекта может решить, что поскольку размер кодовой базы остался неизменным за последний месяц, команда не работает.</p><p>HoC не имеет такого контринтуитивного эффекта. Вместо этого HoC растет вместе с каждым вашим коммитом. Чем больше вы работаете с кодовой базой, тем больше HoC. Не важно, насколько большим или маленьким является абсолютный размер вашего продукта. Важно, сколько усилий вы вкладываете в него. Вот почему HoC очень интуитивен и может использоваться в качестве меры прогресса в разработке программного обеспечения.</p><p>Посмотрите на этот график за 18 месяцев; он показывает оба показателя вместе. Я использовал ту же кодовую базу на языке Java, что и <a href="https://github.com/yegor256/rultor">rultor</a>, помощник DevOps. Как видно на графике, несколько месяцев назад кодовая база претерпела крупную рефакторинг. Я думаю, очевидно, какой показатель на этом графике больше говорит о затраченных усилиях на продукт.</p><h2 id="it-is-objective">It Is Objective</h2><p>Для HoC не имеет значения, насколько большим является абсолютный размер кодовой базы, но только насколько значимым является ваш относительный вклад в нее.</p><p>Предположим, у вас есть 300 тысяч строк кода, и 95% из них были скопированы из сторонних библиотек (кстати, это очень распространенная и ужасная практика - хранить сторонний код внутри своего репозитория). Объем кода будет большим, но фактическая часть пользовательского кода будет относительно небольшой. Таким образом, метрика количества строк кода будет вводить в заблуждение - она всегда будет показывать 300 тысяч с небольшими приращениями или убываниями вокруг этого значения. У всех будет ощущение, что команда работает с базой кода из 300 тысяч строк.</p><p>С другой стороны, HoC всегда будет учитывать ту часть кода, которая фактически изменяется. Значение HoC будет объективно коррелировать с реальными усилиями программистов, работающих с кодовой базой.</p><h2 id="it-exposes-complexity-of-lines">It Exposes Complexity of Lines</h2><p>LoC обычно критикуют за его нейтральность по отношению к сложности кода. Автоматически сгенерированный класс ORM или сложный алгоритм сортировки могут иметь одинаковый размер в терминах строк кода, но первый требует несколько секунд для написания, в то время как второй может занимать недели или месяцы. Вот почему строки кода обычно считают ложной метрикой.</p><p>Hits-of-Code учитывает сложность, потому что чем дольше вы работаете с этим алгоритмом сортировки, тем больше изменений вы вносите в его строки. Ну, это утверждение верно, если вы регулярно используете Git и часто фиксируете свои изменения - таким образом вы сообщаете Git о прогрессе вашей работы.</p><h2 id="conclusion">Conclusion</h2><p>Наконец, посмотрите на <a href="http://at.teamed.io/portfolio.html">этот список открытых проектов</a>, выполненных нашей командой за последние несколько лет. У каждого проекта есть две метрики: количество строк кода и количество хитов кода. Интересно увидеть, что относительно небольшие проекты имеют очень большие (более миллиона) значения HoC. Это сразу напоминает мне, сколько времени мы в них вложили и насколько они старые.</p><p>Я использовал метрику HoC в этом анализе: Сколько вы платите за строку кода?. В этом посте сравнивается традиционный проект, который платил $3.98 за HoC, и открытый проект, управляемый <a href="https://www.zerocracy.com">Zerocracy</a>, который платил ¢13.</p><p>Мой вывод заключается в том, что данная метрика Hits-of-Code может быть использована в качестве инструмента для отслеживания прогресса в проекте разработки программного обеспечения. Более того, она может быть использована для оценки размера команды, бюджета проекта, графика разработки и так далее. Очевидно, что HoC не может быть единственной метрикой, но в сочетании с другими она может значительно помочь при оценке, планировании и отслеживании.</p><p>PS. Попробуйте <a href="https://hitsofcode.com/"><code class="language-plaintext highlighter-rouge">hitsofcode.com</code></a>.</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/35 on 2023-09-09 at 05:11</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?d1b9aa7d6e2"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
