<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Four NOs of a Serious Code Reviewer"/> <meta name="twitter:description" property="og:description" content="It is very important to conduct regular code reviews within every software team, but it is not so easy to do them right; here are a few typical pitfalls."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/ru/2015/02/09/serious-code-reviewer.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?adc088812d4"/> <link rel="apple-touch-icon" href="/favicon.ico?adc088812d4"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?adc088812d4"/> <link rel="stylesheet" href="/css/icons.css?adc088812d4"/> <link rel="canonical" href="https://www.yegor256.com/ru/2015/02/09/serious-code-reviewer.html" /> <title>Four NOs of a Serious Code Reviewer</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;387</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Four NOs of a Serious Code Reviewer</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2015/02/09/serious-code-reviewer.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p><a href="http://en.wikipedia.org/wiki/Code_review">Code reviews</a> (также известные как peer reviews) должны быть обязательной практикой для каждой серьезной команды разработки программного обеспечения. Надеюсь, что по этому поводу нет споров. Некоторые делают рецензии на код перед слиянием, защищая свою основную/разработочную ветку от случайных ошибок. Другие делают регулярные рецензии после слияния, чтобы обнаружить ошибки и несоответствия, возникшие после внесения изменений авторами. Некоторые даже делают и то и другое, проводя рецензии перед слиянием и регулярно после. Рецензии на код очень похожи на технику <a href="http://en.wikipedia.org/wiki/White-box_testing">тестирования в белом ящике</a>, при которой тестировщик ищет дефекты, имея полный доступ к исходным кодам программного обеспечения. В любом случае, рецензия на код - отличный инструмент для повышения качества и повышения мотивации команды.</p><p>Однако, сделать это правильно не так просто. Я бы даже сказал, что очень легко и удобно сделать ошибки. Большинство код-ревью и рецензентов, которых я видел, допускают похожие ошибки. Именно поэтому я решил подвести итоги четырех основных принципов хорошего рецензента, как я их вижу. Надеюсь, они окажутся полезными.</p><h2 id="no-fear">No Fear</h2><p>Существует несколько различных страхов, от которых серьезный рецензент кода должен отказаться. Первый и наиболее популярный - это страх обидеть автора кода. “<em>Мне лучше закрыть глаза и притвориться, что не видел ее ошибки сегодня, чтобы завтра она проигнорировала мои ошибки</em>” - такое отношение порождает этот вид страха. Не нужно говорить, что это противопродуктивно и снижает качество кода и мораль команды. Вот мой совет: будьте прямыми, честными и простыми. Если вам не нравится код, вам не нравится. Вам не следует заботиться о том, как ваше мнение будет воспринято автором кода.</p><p>Если у вас есть такие чувства по отношению к коллегам, значит, что-то не так с моделью управления. Вас беспокоит возможность быть отвергнутым командой за “неспособность работать в команде”, что является ярлыком, который прикрепляют к вам самые слабые участники команды, а не спонсор проекта. Спонсор платит вам за создание программного обеспечения высокого качества. Спонсору нет дела до того, насколько ваше стремление повысить качество обижает других, кому это меньше важно. Спонсору важно, чтобы его деньги создавали результаты, которые могут быть проданы клиентам и принесут прибыль. Спонсор не платит вам за то, чтобы заводить друзей в офисе.</p><p>Следующий тип страха звучит так: “<em>Если я отклоню этот код, я задержу релиз</em>”. Опять же, не нужно говорить, что такое отношение является серьезным вредом для всего проекта. Вы примете код и закроете глаза на то, что вам в нем не нравится. Код попадет в следующий релиз, и мы отправим его раньше. Вы не будете узким местом, и никто не скажет, что из-за того догматичного кодер-рецензента мы задержали релиз и потеряли некоторые деньги. Вы будете хорошим игроком в команде, верно? Неверно!</p><p>Как я уже упоминал ранее, профессиональный член команды понимает свою личную роль в проекте и не прикрывает задницу никому. Если отклонение плохого кода замедляет выпуск, это вина его автора. Ваша профессиональная ответственность заключается в том, чтобы сделать эту ошибку видимой. Таким образом вы помогаете команде учиться и совершенствоваться.</p><p>Я думаю, что очевидно, что образование и совершенствование команды в первую очередь требует избавления от плохих программистов и продвижения хороших. Честные и бесстрашные рецензенты кода помогают команде учиться и совершенствоваться.</p><p>Еще один страх выражается так: “<em>Я могу ошибиться, и они будут смеяться надо мной</em>”. Еще хуже, они могут заметить мою недостаточность знаний. Они могут увидеть, что я не знаю, что делаю. Лучше оставаться молча и притворяться, что в коде нет ошибок. По крайней мере, так я не поставлю себя в неловкое положение своими глупыми комментариями. Ты знаешь, что намного проще выглядеть умным, если держишь рот на замке, верно? Неверно!</p><p>Проект не платит вам за хороший внешний вид. Вы получаете свою зарплату не потому, что команда вас любит, а потому, что вы ежедневно выпускаете результаты работы. Ваша профессиональная ответственность - делать то, что лучше всего для проекта и игнорировать мнения всех, включая мнение вашего начальника. Подобно тому, как Счастливый начальник - ложная цель, я бы сказал, что уважение команды - ложная цель. Не пытайтесь заработать уважение. Вместо этого, создавайте чистый код, и уважение придет автоматически.</p><p>Позвольте мне повторить: не бойтесь посрамить себя, делая неправильные и глупые комментарии к чужому коду. Будьте преданны проекту, а не ожиданиям людей вокруг вас. Они ожидают, что вы будете умным и ярким, но проект ожидает, что вы скажете то, что вы думаете о коде. Так что забейте на их мнения; делайте правильное и говорите то, что вы действительно думаете.</p><h2 id="no-compromise">No Compromise</h2><p>Хорошо, вы бесстрашно выразили свое мнение о коде и просто отвергли его. Ветка, которую вы рассматривали, не очень хорошая, и вы объяснили, почему. Вы попросили автора переработать здесь и переписать там. Что дальше?</p><p>Он или она попытается договориться с вами. Это естественно, и это происходит практически в каждом отделе, который я вижу в наших командах. Автор кода также является профессиональным разработчиком и не испытывает страха. Поэтому он настаивает на том, что его метод реализации правильный, а ваши идеи неверны. Что должен делать профессиональный рецензент кода в этом случае?</p><p>Самое плохое (как и в любом разрешении конфликта) - это компромисс. Именно он разрушает качество быстрее, чем плохой код. Компромисс - это техника разрешения конфликта, при которой обе стороны соглашаются не получить то, чего они хотели, лишь ради прекращения конфликта. Другими словами, “<em>Давайте заключим мир, чтобы перестать ссориться</em>”. Это самый плохой подход.</p><p>Вместо плохого компромисса, существуют три профессиональных выхода из схватки по поводу кодового фрагмента:</p><ul> <li><p>“<em>Вы правы; Я отзываю свои комментарии!</em>” Это может случиться и должно происходить очень часто. Вы должны быть готовы признать свои ошибки. Вам не понравился код, но его автор объяснил вам его преимущества, и вы приняли логику—не потому, что вы хотите прекратить спорить с ним, а потому что вы действительно поняли логику и приняли ее. Готовность сказать, “Я не прав,” является первым признаком зрелого и серьезного разработчика.</p></li> <li><p>“<em>Я никогда не приму это, точка!”</em> Некоторый код заслуживает такого, и нет ничего плохого в том, чтобы разрешать конфликты таким образом. Противник может принять ситуацию и переписать все заново. И при этом что-то узнать.</p></li> <li><p>“Давайте делать то, что говорит архитектор!” В каждом проекте есть программный архитектор, который принимает окончательные решения. Обратитесь к его мнению и получите его окончательное решение. Пригласите его в обсуждение и попросите занять одну сторону в конфликте. Как только он скажет вам, что вы не правы, примите решение и постарайтесь извлечь урок из этого.</p></li></ul><p>Таким образом, либо укрепись на своей позиции и борись за нее, либо признай, что ты не прав. Каким бы способом ни выбрал, но не иди на компромисс!</p><p>Не понимайте меня неправильно; здесь не речь идет о том, чтобы быть упрямым и держать карты в руках, несмотря на то, насколько они плохи. Будьте гибкими и учитесь на ходу. Ваша позиция может и должна меняться во время переговоров, но не принимайте то, что вам не нравится. Вы можете выйти из конфликта только тогда, когда полностью уверены, что оппонент прав, или когда так говорит архитектор. Нет ничего посередине.</p><h2 id="no-bullshit">No Bullshit</h2><p>Опять же, вы бесстрашно заявили, что метод должен быть спроектирован иначе. Ваш оппонент, автор кода, отвечает, что не согласен с этим. Вы снова взглядываете и решаете придерживаться своей позиции. Вы все еще считаете себя правым и не собираетесь идти на компромисс. Что делать дальше? Еще рано обращаться к архитектору, поэтому попытайтесь убедить своего оппонента.</p><p>В большинстве случаев убеждение - это обучение. Вы знаете что-то, чего он не знает. Вот почему он создал этот метод так, как вам не нравится. Один из вас нуждается в дополнительном образовании. Вот возможность для вас стать учителем для своего коллеги. Чтобы быть эффективным учителем, вам нужно предоставить доказательства. Вам нужно обосновать свою логику и убедиться, что он понимает и принимает ее.</p><p>Будьте готовы предоставить ссылки, статьи, книги, отчеты, примеры и т.д. Просто фраза “<em>Я знаю это, потому что пишу на Java уже 15 лет</em>” недостаточна. Более того, такой тип аргументации только делает вас менее убедительным.</p><p>Если у вас нет достаточно убедительных доказательств, задумайтесь еще раз - возможно, вы ошибаетесь.</p><p>Также помните, что ваша задача - доказать, что код, который вы рецензируете, плохой. Автор кода не должен доказывать ничего. По умолчанию его код отличный. Задача рецензента - показать, почему и как это на самом деле не так. Другими словами, вы являетесь истцом, а он - защитником. Не наоборот.</p><h2 id="no-offense">No Offense</h2><p>Это последний и самый сложный принцип, который нужно соблюдать. Независимо от того, насколько плохой код и насколько упрям ваш оппонент, вы должны оставаться профессионалом. Если быть честным, иногда мне это очень трудно. В <a href="https://www.zerocracy.com">Zerocracy</a> мы работаем в распределенных командах и каждую неделю нанимаем несколько новых людей. Некоторые из них, несмотря на наши критерии отбора, оказываются достаточно сложными для общения.</p><p>Я столкнулся с забавной ситуацией около года назад, когда новый парень должен был создать небольшую (20-30 строк кода) новую функцию в существующей библиотеке на Java. Он отправил мне запрос на объединение изменений (я был код-ревьюером), после того как внес несколько сотен строк кода. Этот код был абсолютным мусором и явно не написан им. Я сразу понял, что он нашел его где-то и скопировал. Но что я мог сделать? Как я мог отклонить его, не сказав, что его отношение неприемлемо для профессионального разработчика? Мне пришлось потратить некоторое время, объективно критикуя его код за его стиль, дизайн и т.д. Я должен был оставить много серьезных комментариев, чтобы показать ему, что для исправления всего этого ему следовало бы удалить мусор и переписать код с нуля. Я больше никогда не видел его после этой задачи.</p><p>Моя точка зрения заключается в том, что быть профессионалом легко, когда вы имеете дело с профессионалами. К сожалению, это не всегда так. Но независимо от того, насколько плох код перед вами, будьте терпеливыми и убедительными.</p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">What do you feel when your pull request is rejected and a lot of &quot;re-work&quot; is required? <a href="https://twitter.com/hashtag/sociotech?src=hash&amp;ref_src=twsrc%5Etfw">#sociotech</a></p>--- Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1013385039701250048?ref_src=twsrc%5Etfw">July 1, 2018</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/35 on 2023-09-08 at 16:49</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?adc088812d4"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
