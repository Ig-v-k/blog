<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Each change we make to our software has to provide some value to our users and customers; our technical objectives should take a back seat." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Code For the User, Not for Yourself"/> <meta name="twitter:description" property="og:description" content="Each change we make to our software has to provide some value to our users and customers; our technical objectives should take a back seat."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/ru/2015/02/12/top-down-design.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?51fc39892f0"/> <link rel="apple-touch-icon" href="/favicon.ico?51fc39892f0"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?51fc39892f0"/> <link rel="stylesheet" href="/css/icons.css?51fc39892f0"/> <link rel="canonical" href="https://www.yegor256.com/ru/2015/02/12/top-down-design.html" /> <title>Code For the User, Not for Yourself</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Code For the User, Not for Yourself</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2015/02/12/top-down-design.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>Во-первых, несмотря на выбранную методологию, мы все пишем программное обеспечение для наших пользователей (также известных как клиенты, спонсоры проекта, конечные пользователи или <a href="">клиенты</a>). Во-вторых, несмотря на выбранную методологию, мы пишем инкрементально, выпуская функции и исправления ошибок по одной. Возможно, я говорю очевидные вещи, но важно помнить, что каждая новая версия должна прежде всего удовлетворять потребностям пользователя, а не нам программистам. Другими словами, способ, которым мы разбиваем большую задачу на меньшие части, должен быть ориентирован на пользователя, и поэтому вы всегда работаете <strong>сверху вниз</strong>. Давайте посмотрим, что я имею в виду на практическом примере.</p><p>Предположим, что мой друг нанял меня для создания командной строки, подсчитывающей количество слов, очень похожей на <a href="http://en.wikipedia.org/wiki/Wc_%28Unix%29">wc</a>. Он обещал заплатить мне $200 за эту работу, а я обещал ему доставить продукт в два этапа - альфа-версию и бета-версию. Я обещал выпустить альфа-версию в субботу, а бета-версию в воскресенье. Он собирается заплатить мне $100 после первого релиза и остаток после второго релиза.</p><p>Я буду писать на C, а он будет платить наличными.</p><p>Инструмент очень примитивный, и его написание заняло всего несколько минут. Взгляните на него:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp"># include &lt;stdio.h&gt;
</span>
<span class="cp"># include &lt;unistd.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="kt">char</span> <span class="n">ch</span><span class="p">;</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="n">read</span><span class="p">(</span><span class="n">STDIN_FILENO</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span> <span class="p">{</span> <span class="o">++</span><span class="n">count</span><span class="p">;</span> <span class="p">}</span> <span class="p">}</span> <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="o">++</span><span class="n">count</span><span class="p">;</span> <span class="p">}</span> <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">count</span><span class="p">);</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span> <span class="err">```</span>

<span class="err">Но</span> <span class="err">будем</span> <span class="err">профессионалами</span> <span class="err">и</span> <span class="err">не</span> <span class="err">забудем</span> <span class="err">о</span> <span class="err">автоматизации</span> <span class="err">сборки</span> <span class="err">и</span> <span class="err">модульном</span> <span class="err">тестировании</span><span class="p">.</span> <span class="err">Вот</span> <span class="err">простой</span> <span class="err">`</span><span class="n">Makefile</span><span class="err">`</span><span class="p">,</span> <span class="err">который</span> <span class="err">выполняет</span> <span class="err">их</span> <span class="err">оба</span><span class="o">:</span>

</code></pre></div></div><p>all: wc test wc: wc.c gcc -o wc wc.c test: wc echo ‘’ | ./wc | grep ‘0’ echo ‘Hello, world! How are you?’ | ./wc | grep ‘5’</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Сейчас я запускаю `make` из командной строки и получаю следующий вывод:

</code></pre></div></div><p>$ make echo ‘’ | ./wc | grep ‘0’ 0 echo ‘Hello, world! How are you?’ | ./wc | grep ‘5’ 5 ```</p><p>All clean!</p><p>Я готов получить свои 200 долларов. Подождите, сделка заключалась в том, чтобы предоставить две версии и получить деньги в две части. Давайте немного отклонимся назад и подумаем - как мы можем разделить это небольшое инструмент на две части?</p><p>На первый взгляд, давайте сначала выпустим сам инструмент и затем займемся автоматизацией и тестированием. Это хорошая идея? Можем ли мы доставить какое-либо программное обеспечение без предварительного запуска тестов? Как я могу быть уверенным, что оно работает, если я не отправлю тесты вместе с ним? Что подумает мой друг о том, что я выпускаю что-либо без тестов? Это будет полным позором.</p><p>Хорошо, сначала выпустим <code class="language-plaintext highlighter-rouge">Makefile</code>, а затем <code class="language-plaintext highlighter-rouge">wc.c</code>. Но что сделает мой друг с парой тестов и отсутствием готового продукта? Этот первый релиз будет абсолютно бесполезен, и я не получу свои $100.</p><p>Теперь мы подходим к сути этой статьи. Что я пытаюсь сказать, это то, что каждое новое изменение должно добавить некоторую ценность к продукту с точки зрения клиента, а не программистов. <code class="language-plaintext highlighter-rouge">Makefile</code> определенно ценный артефакт, но он не приносит никакой ценности моему другу. Ему он не нужен, но мне нужен.</p><p>Вот что я собираюсь сделать. Я выпущу каркас инструмента, поддерживаемый тестами, но с абсолютно простой реализацией. Посмотрите на него:</p><p>```c</p><h1 id="include-">include <stdio.h></stdio.h></h1><p>int main() { printf(“5\n”); return 0; } ```</p><p>И я изменю <code class="language-plaintext highlighter-rouge">Makefile</code> соответственно. Я отключу первый тест, чтобы убедиться, что сборка проходит успешно.</p><p>Работает ли мой инструмент? Да, он работает. Считает ли он слова? Да, для некоторых входных данных. Есть ли он ценность для моего друга? Очевидно! Он может запустить его из командной строки и передать файл в качестве входных данных. Однако он всегда получит число “5” в качестве результата подсчета. Это неудачно, но это альфа-версия. Он не ожидает, что она будет работать идеально.</p><p>Однако, это работает, подтверждено тестами и правильно упаковано.</p><p>То, что я только что сделал, является сверху-вниз подходом к проектированию. Прежде всего, я создал нечто, что приносит ценность моему клиенту. Я также убедился, что оно удовлетворяет моим техническим целям, таким как должное покрытие модульными тестами и автоматизация сборки. Но самой важной целью для меня было убедиться, что мой друг получил что-то… и заплатил мне.</p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">What from would you start making a new webservice?</p>&mdash; Yegor Bugayenko (@yegor256) <a href="https://twitter.com/yegor256/status/1264577360449409024?ref_src=twsrc%5Etfw">May 24, 2020</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/002 on 2023-08-28 at 17:42</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?51fc39892f0"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
