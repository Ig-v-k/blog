<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Patent-pending methodology of breaking down big tasks into smaller ones is explained in the article, by example in Java" /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Puzzle Driven Development"/> <meta name="twitter:description" property="og:description" content="Patent-pending methodology of breaking down big tasks into smaller ones is explained in the article, by example in Java"/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/ru/2010/03/04/pdd.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?83af7328a7a"/> <link rel="apple-touch-icon" href="/favicon.ico?83af7328a7a"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?83af7328a7a"/> <link rel="stylesheet" href="/css/icons.css?83af7328a7a"/> <link rel="canonical" href="https://www.yegor256.com/ru/2010/03/04/pdd.html" /> <title>Puzzle Driven Development</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Puzzle Driven Development</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2010/03/04/pdd.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>PDD, или Puzzle Driven Development, - это метод, используемый для разбиения программных задач на более мелкие и обеспечения их параллельной реализации. Метод PDD широко используется в методологии XDSD. Метод находится на рассмотрении патента USPTO (заявка № 12/840,306).</p><p>Давайте рассмотрим метод на примере. Допустим, вы программист и вам поручено разработать и реализовать класс на языке Java. Вот формальное описание задачи: “класс <code class="language-plaintext highlighter-rouge">DBWriter</code> должен расширять абстрактный класс <code class="language-plaintext highlighter-rouge">java.io.Writer</code> и сохранять все поступающие данные в базе данных”.</p><p>У вас есть один час на выполнение этой задачи. Вам ясно, что одного часа недостаточно, потому что проблема намного больше и требует больше работы, чем позволяет выделенное время. Кроме того, есть множество неизвестных:</p><p>Какую информацию нам нужно сохранить и в каком формате?</p><p>Что такое схема базы данных? Является ли она SQL или NoSQL базой данных?</p><p>Как подключиться к БД? JDBC? JPA? DAO?</p><p>Как обрабатывать исключения?</p><p>Давайте иметь в виду все эти неизвестные, пока мы пытаемся решить проблему на самом высоком уровне абстракции. Конечно, мы начинаем с теста:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import org.junit.*;
import static org.mockito.Mockito.*;
public class DBWriterTest {
  @Test
  void testSavesDataIntoDatabase() throws Exception {
    DataBridge mapper = mock(DataBridge.class);
    Writer writer = new DBWriter(mapper);
    try {
      writer.write("hello, world!");
    } finally {
      writer.close();
    }
    verify(mapper).insert("hello, world!");
  }
}
</code></pre></div></div><p>В предыдущем тесте мы определяем ожидаемое поведение класса. Тест не компилируется, потому что отсутствуют два класса: <code class="language-plaintext highlighter-rouge">DataBridge</code> и <code class="language-plaintext highlighter-rouge">DBWriter</code>. Давайте сначала реализуем мост:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.io.IOException;
public interface DataBridge {
  void insert(String text) throws IOException;
}
</code></pre></div></div><p>Затем сам писатель:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.io.IOException;
import java.io.Writer;
import java.utils.Arrays;
public class DBWriter implements Writer {
  private DataBridge bridge;
  public DBWriter(DataBridge brdg) {
    this.bridge = brdg;
  }
  @Override
  void flush() throws IOException {
  }
  @Override
  void close() throws IOException {
  }
  @Override
  void write(char[] cbuf, int off, int len) throws IOException {
    String data = new String(Arrays.copyOfRange(cbuf, off, off + len));
    this.bridge.insert(data);
  }
}
</code></pre></div></div><p>Используя приведенный выше код, мы решаем проблему. В данном примере мы успешно разработали, реализовали и протестировали необходимый класс <code class="language-plaintext highlighter-rouge">DBWriter</code>. Впоследствии, данный класс теперь может немедленно использоваться “как есть” другими классами.</p><p>Конечно, реализация не завершена, поскольку мы не записываем ничего в базу данных. Более того, мы по-прежнему не отвечаем на большинство вопросов, заданных в примере сценария. Например, мы все еще не знаем точно, как должно быть установлено соединение с базой данных, ее тип (SQL или NoSQL), правильный формат данных и так далее. Однако мы уже сделали несколько важных архитектурных предположений, которые позволили нам реализовать класс и сделать его пригодным для использования другими классами.</p><p>Теперь пришло время определить неизвестные в нашем коде и отметить их в виде головоломок. Каждая головоломка представляет собой запрос на улучшение. Мы хотим попросить кого-то другого помочь нам усовершенствовать и исправить наши предположения. Вот первая головоломка, которую нам нужно добавить:</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">DataBridge</span> <span class="o">{</span>
  <span class="cm">/**

@todo #123 I assumed that a simple insert() method will be

достаточно вставить данные в базу данных. Может быть, это

не является правдой, и некоторая поддержка транзакций может быть

требуется. Мы должны реализовать этот интерфейс и создать

an integration test with a database. */</span> <span class="kt">void</span> <span class="nf">insert</span><span class="o">(</span><span class="nc">String</span> <span class="n">text</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span><span class="o">;</span> <span class="o">}</span> <span class="err">```</span>

<span class="nc">Головоломка</span> <span class="n">состоит</span> <span class="n">из</span> <span class="n">трех</span> <span class="nl">элементов:</span> <span class="n">тег</span> <span class="err">`</span><span class="nd">@todo</span><span class="err">`</span><span class="o">,</span> <span class="n">локатор</span> <span class="err">`#</span><span class="mi">123</span><span class="err">`</span> <span class="n">и</span> <span class="n">комментарий</span><span class="o">.</span> <span class="nc">Локатор</span> <span class="n">отображает</span> <span class="nl">следующее:</span> <span class="s">"Головоломка была создана во время работы с тикетом #123"</span><span class="o">.</span>

<span class="nc">Добавим</span> <span class="n">еще</span> <span class="n">одну</span> <span class="nl">головоломку:</span>

</code></pre></div></div><p>void write(char[] cbuf, int off, int len) throws IOException { // @todo #123 I assumed that the data should be sent to the database // as its received by the writer. Maybe this assumption // is wrong and we should aggregate data into blocks/chunks // and then send them to the data bridge. String data = new String(Arrays.copyOfRange(cbuf, off, off + len)); this.bridge.insert(data); } ```</p><p>Эта головоломка указывает на одну из наших опасений, потому что мы не уверены, что архитектурное решение правильное. На самом деле, дизайн в данный момент очень примитивен и, скорее всего, неверен. Чтобы его усовершенствовать и переделать, нам требуется больше информации от автора задания.</p><p>Задача выполнена. Теперь вы можете объединить свою ветку с <code class="language-plaintext highlighter-rouge">master</code> и вернуть тикет тому, кто назначил его вам. Его задача теперь найти других людей, которые смогут решить головоломки, которые мы только что создали.</p><p>Каждая созданная головоломка сейчас будет порождать другие головоломки, которые будут решены другими людьми. В результате, наша простая задача, решаемая за один час, может потенциально породить сотни других задач, которые могут занять дни или даже годы для завершения. Тем не менее, вашей целью при работе над вашей конкретной задачей является ее как можно скорее завершить и воссоединить вашу ветку с <code class="language-plaintext highlighter-rouge">master</code>.</p><h2 id="best-practices">Best Practices</h2><p>Есть несколько простых правил, которые помогут вам правильно расставить головоломки.</p><p>Сначала вам следует поместить ваши аннотации <code class="language-plaintext highlighter-rouge">@todo</code> в место, где ваш код сталкивается с заглушкой. Например, в модульном тесте. Вы реализуете тест, и он не проходит, потому что класс еще не реализован. Вы пропускаете тест с помощью аннотации <code class="language-plaintext highlighter-rouge">@Ignore</code> и добавляете паззл <code class="language-plaintext highlighter-rouge">@todo</code> в его JavaDoc.</p><p>Во-вторых, ваша головоломка должна быть максимально близка к кодовому элементу, который вызывает подпрограмму-заглушку. Предположим, у вас есть модульное тестирование, включающее три тестовых метода. Все они сейчас не проходят, потому что класс не реализован. Лучшим подходом будет игнорировать каждый из них и создать три (!) головоломки. Каждая из головоломок должна объяснять, что вы ожидаете от класса и как он должен быть реализован.</p><p>Третье, будьте максимально описательными. Ваша головоломка вскоре станет заданием для кого-то другого. Поэтому четко объясните, что вы ожидаете от следующего человека, как это сделать, какую документацию использовать и так далее. Должно быть достаточно информации, чтобы следующий человек, назначенный на головоломки, мог реализовать необходимые классы без дополнительных указаний от вас!</p><p>Кстати, процесс сбора головоломок может быть автоматизирован с помощью нашего Ruby-гема <a href="https://github.com/yegor256/pdd">PDD</a> и хостинг-сервиса <a href="">0pdd.com</a>.</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/002 on 2023-08-23 at 20:16</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?83af7328a7a"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
