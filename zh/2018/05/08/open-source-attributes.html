<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="Making your code base visible to everyone doesn't make it an open source project yet; there are a number of important things you shouldn't forget to do." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="An Open Code Base Is Not Yet an Open Source Project"/> <meta name="twitter:description" property="og:description" content="Making your code base visible to everyone doesn't make it an open source project yet; there are a number of important things you shouldn't forget to do."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/zh/2018/05/08/open-source-attributes.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?278749a84ec"/> <link rel="apple-touch-icon" href="/favicon.ico?278749a84ec"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?278749a84ec"/> <link rel="stylesheet" href="/css/icons.css?278749a84ec"/> <link rel="canonical" href="https://www.yegor256.com/zh/2018/05/08/open-source-attributes.html" /> <title>An Open Code Base Is Not Yet an Open Source Project</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;387</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/research.html" title="My research directions and progress">Research</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">An Open Code Base Is Not Yet an Open Source Project</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2018/05/08/open-source-attributes.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>几个星期前，有人建议我尝试将<a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a>的静态分析规则整合到我们的聚合工具Qulice中，我们的聚合工具包括<a href="http://checkstyle.sourceforge.net/">Checkstyle</a>、<a href="http://pmd.sourceforge.net/">PMD</a>、<a href="http://findbugs.sourceforge.net/">FindBugs</a>和其他一些分析工具。我确实喜欢IDEA的规则，其中一些规则非常独特且非常有用。我问是否可以在Maven Central找到它们（它们是用Java编写的），答案是：“你得自己弄清楚如何使用它们，但它们是开源的。”对于这种情况，我有以下观点：我认为开源不仅仅意味着代码可以在没有授权的情况下阅读，它意味着更多的东西。</p><p>只是让一段代码公开获取，并不能称其为<em>开源</em>软件。实际上，如果它是开放的但没有准备好<em>重用</em>（这正是开源世界所追求的），那么它只会损害产品和作者的声誉。正如<a href="https://en.wikipedia.org/wiki/Eric_S._Raymond">埃里克·雷蒙德</a>在他著名的文章<a href="https://amzn.to/2FKF9tv"><em>大教堂与集市</em></a>中所说：“优秀的程序员知道该写什么。伟大的程序员知道该重写（和重用）什么。”</p><p>软件产品的作者有责任帮助那些“优秀”的程序员重用代码。编码、测试、调试以及确保“它在我的电脑上运行”是一回事。而使其具有可读性和可重用性则是完全不同的工作，可能需要更多的时间。</p><p>正如<a href="https://en.wikipedia.org/wiki/Karl_Fogel">Karl Fogel</a>在<a href="https://amzn.to/2jyMrrF"><em>Producing Open Source Software</em></a>中所说：“大多数自由软件项目都失败了。” 它们失败了（除了其他很多因素之外），因为对以下基本事项没有给予足够的关注（无特定顺序）：</p><h2 id="readme">README</h2><p>我确定你将你的产品托管在GitHub上。（如果没有的话，你怎么了？）在根目录中一定有一个<code class="language-plaintext highlighter-rouge">README</code>文件，解释了产品的内容以及我们应该如何使用它。一些好的例子有：<a href="https://github.com/leejarvis/slop/blob/master/README.md"><code class="language-plaintext highlighter-rouge">leejarvis/slop</code></a>、<a href="https://github.com/mongobee/mongobee/blob/master/README.md"><code class="language-plaintext highlighter-rouge">mongobee/mongobee</code></a>、<a href="https://github.com/ronmamo/reflections/blob/master/README.md"><code class="language-plaintext highlighter-rouge">ronmamo/reflections</code></a>和<a href="https://github.com/yegor256/takes/blob/master/README.md"><code class="language-plaintext highlighter-rouge">yegor256/takes</code></a>（这是我的）。一些不好的例子有：<a href="https://github.com/qos-ch/slf4j/blob/master/README.md"><code class="language-plaintext highlighter-rouge">qos-ch/slf4j</code></a>、<a href="https://github.com/rzwitserloot/lombok/blob/master/README"><code class="language-plaintext highlighter-rouge">rzwitserloot/lombok</code></a>和<a href="https://github.com/junit-team/junit4/blob/master/README.md"><code class="language-plaintext highlighter-rouge">junit4/blob</code></a>（不要像这些人一样）。</p><p>无论您的网站、Javadoc、Wiki、邮件列表还是Twitter有多么丰富，README是我们期望看到一切内容的地方。只有当我们感兴趣时，我们才会进一步深入调查。阅读其他项目中的README文件并复制它们的最佳想法。README是您的展示窗口，它必须发光发热。</p><h2 id="license">License</h2><p>大多数人都不关注这个官僚主义。直到最近，我也是如此。我曾以为，一旦我的代码开源，我就可以忘记任何权益和版税。他们只会使用我的代码，我将永远不会看到任何利润。我附加的许可证毫无意义——反正也没有人会读。这就是在大多数情况下发生的事情。但只有在那些小角色使用的时候。</p><p>几年前，我在一个软件项目中担任架构师，我们需要创建一个硬件组件分析器，如CPU、内存、硬盘等。我们必须确保在运行相当复杂和定制的测试后，所有组件都按预期工作。我显而易见的建议是使用开源工具，它们可以为我们完成繁重的工作，我们只需要进行集成。这是一个很棒的主意，直到我们中的一些人决定检查这些工具的许可证。</p><p>那一刻我意识到，我之前没有关注许可证的内容是多么错误。例如，我们在一些工具中发现了 <a href="https://en.wikipedia.org/wiki/GNU_General_Public_License">GPL</a>，它要求如果我们的产品不是开源的，就不能重用其代码。由于我们正在开发专有软件，我们明白我们只能使用 <a href="https://en.wikipedia.org/wiki/MIT_License">MIT</a>、<a href="https://en.wikipedia.org/wiki/BSD_licenses">BSD</a>或类似的许可证，而不能使用 <a href="https://en.wikipedia.org/wiki/Copyleft">copyleft</a> 模块。</p><p>我建议你在发布产品之前考虑一下许可证问题。自2016年以来，我在所有的产品中都使用了<a href="https://en.wikipedia.org/wiki/MIT_License">MIT许可证</a>。</p><h2 id="distribution">Distribution</h2><p>一堆仅仅是 <code class="language-plaintext highlighter-rouge">.rb</code> 文件的集合并不是可重用的 Ruby 代码。对那些我非常鄙视的黑客们来说，也许是可以的。但对于那些连自己的代码都懒得读，更别提别人的代码的专业开发人员来说，它绝对不是可重用的。</p><p>“从GitHub上获取”不再是对我们——你的程序员同行——的一种礼貌方式。二十年前是可以的，但现在我们有了代码库。你必须通过其中一个公共代码库将你的产品分发为一个“构件”，并使我们能够从那里获取它，跳过测试和打包的步骤，直接将其作为一个产品使用（例如一个Ruby gem或Java JAR）。</p><p>我正在谈论像<a href="https://search.maven.org/">Maven Central</a>、<a href="https://www.npmjs.com/">npmjs</a>或<a href="https://rubygems.org/">RubyGems</a>这样的存储库。您必须找到一种方法将您的产品部署到这些存储库中。尽管这些存储库尽力简化这个过程，但这并不是一项容易的任务。我们在所有项目中都使用Rultor，它帮助我们简化了部署流程。</p><ul> <li><p><a href="https://github.com/yegor256/takes">yegor256/takes</a>到Maven Central（详细信息）;</p></li> <li><p><a href="https://github.com/yegor256/xcop">yegor256/xcop</a>到RubyGems（详情）；</p></li> <li><p>“<a href="https://github.com/yegor256/tacit">yegor256/tacit</a> to npmjs.” translated to Chinese is:</p></li></ul><p>“<a href="https://github.com/yegor256/tacit">yegor256/tacit</a> 到 npmjs。”</p><p><a href="https://en.wikipedia.org/wiki/Package_manager">软件包管理器</a>如Maven、NPM、Rake、Grunt、Gradle和<a href="https://en.wikipedia.org/wiki/List_of_software_package_management_systems">其他</a>，是重复使用开源软件（也包括专有软件）的标准和传统方式。如果您的产品在公共仓库中不可用，那它就不是一个产品，只是一个代码库。</p><h2 id="javadoc">Javadoc</h2><p>我们都讨厌写文档。而且我们也讨厌没有文档的库。我通常觉得为我的类编写Javadoc块很无聊，但我明白如果没有它们，我在这些类中编写的代码将不会引起任何人的兴趣。</p><p>对于那些 Javadoc 块来说，”通过示例” 是最佳的格式。我建议您展示如何使用类，特别是与其邻居结合使用。此外，我建议您<em>不要</em>在其他任何地方编写文档，除了这些 Javadoc 块之外。（它们也存在于其他语言中，但名称不同。）</p><p>Javadoc的问题在于很难将文本格式化得看起来有视觉吸引力。也许这就是为什么许多程序员仍然依赖维基或项目网站的原因。我建议你保持在Javadoc块中，并学习它们的格式化语法。</p><h2 id="badges">Badges</h2><p>正如<a href="https://github.com/yegor256/takes">你可以看到的</a>，我喜欢徽章。首先，它们让一个存储库看起来像是“正在积极维护”，尤其是那些绿色的徽章。它们并没有提供任何有价值的信息。它们主要在说：“我们的作者有很好的品味，看看我们的颜色多么完美匹配！”</p><p>开玩笑的说，要添加所有这些徽章并不容易。每个徽章都需要一些时间来整合第三方系统，确保数字足够令人自豪，并且对其进行控制。如果没有人监督仓库，这些徽章最终会开始失效。</p><h2 id="continuous-integration">Continuous Integration</h2><p>为了使用你的代码，我们必须信任它，也就是说我们必须确信它能够正常运行，或者至少能通过自动化测试。（我需要说你必须有测试吗？）我们如何确信它能够正常运行？持续集成（CI）就是答案。我们必须能够查看最近的CI构建日志，并确保它是干净的。</p><p>这是一种信任问题。你可能从来不使用那些Travis构建，并且简单地忽略它们的红色和绿色信号，但对于我们来说它们很重要—你的客户。我在创建新仓库后立即为我的所有项目添加Travis徽章。</p><h2 id="contribution-guidelines">Contribution Guidelines</h2><p>对于一个经常使用GitHub的上瘾者来说，弄清楚如何向您发送拉取请求并不是个问题。然而，我们大多数人，至少刚开始时，都是活跃用户而不是贡献者。我们会尝试使用您的产品并试图根据自己的需求进行定制。如果我们迷失了方向，我们会感到沮丧并离开。</p><p>为了防止这种情况发生，您必须解释一个遵守规则的贡献者需要做什么来对您的代码库进行更改。以下是我建议您在您的<a href="https://help.github.com/articles/setting-guidelines-for-repository-contributors/"><code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code></a>中回答的问题：</p><ul> <li><p>如何运行自动化构建？</p></li> <li><p>一个拉取请求需要多大/小才能被接受？</p></li> <li><p>你们有什么样的风格指南？</p></li> <li><p>如何报告、标记、解释错误？</p></li> <li><p>什么因素构成了一个好的错误报告？</p></li></ul><p>这是我在所有项目中使用的文本：<a href="https://github.com/yegor256/takes/blob/master/.github/ISSUE_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">ISSUE_TEMPLATE.md</code></a>和<a href="https://github.com/yegor256/takes/blob/master/.github/PULL_REQUEST_TEMPLATE.md"><code class="language-plaintext highlighter-rouge">PULL_REQUEST_TEMPLATE.md</code></a>。</p><h2 id="quality-wall">Quality Wall</h2><p>最后，如果你很幸运，我们会使用你的产品并有兴趣做出贡献。你将开始收到我们的拉取请求。问题是，我们会以多快的速度破坏你的代码库，除非你保护好自己。</p><p>如果你严格审查每个拉取请求，并拒绝任何看起来不像“优秀”代码的东西，你会失去我们，你的贡献者。我们不想编写优秀的代码，我们想对你的产品进行更适应<em>我们</em>需求的改变。代码的优秀是<em>你</em>的问题，而不是我们的问题。</p><p>另一方面，如果您接受任何东西，体系结构将失去其稳健性（如果曾有的话），您将再次失去我们，即您的贡献者。这一次，您将失去我们，因为产品将变得糟糕且难以维护和贡献。</p><p>保持平衡的最佳方法是“雇佣”一个工具来帮助你：构建自动化、静态分析、自动化测试和覆盖率控制。当某人的更改违反其内部质量期望时，您必须配置产品以失败。我也使用Rultor来实现这一点。</p><p>我有什么忘记了吗？</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/35 on 2023-09-15 at 14:32</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?278749a84ec"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
