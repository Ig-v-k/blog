<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="Hits-of-Code Instead of SLoC"/> <meta name="twitter:description" property="og:description" content="The Hits of Code (HoC) metric is an alternative measurement indicator that can replace Software Lines Of Code (SLoC) and help in software development progress tracking."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/zh/2014/11/14/hits-of-code.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?83af7328a7a"/> <link rel="apple-touch-icon" href="/favicon.ico?83af7328a7a"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?83af7328a7a"/> <link rel="stylesheet" href="/css/icons.css?83af7328a7a"/> <link rel="canonical" href="https://www.yegor256.com/zh/2014/11/14/hits-of-code.html" /> <title>Hits-of-Code Instead of SLoC</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">Hits-of-Code Instead of SLoC</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2014/11/14/hits-of-code.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p><a href="https://en.wikipedia.org/wiki/Source_lines_of_code">Lines-of-Code</a> (aka SLoC) is a metric with a terrible reputation. Try <a href="https://www.google.com/search?q=line+of+code+metric">to google</a> it yourself and you’ll find tons of articles bad-mouthing about its counter-effectiveness and destructiveness for a software development process. The main argument is that we can’t measure the progress of programming by the number of lines of code written. Probably the most famous quote is attributed to <a href="https://en.wikipedia.org/wiki/Bill_Gates">Bill Gates</a>:</p><p>使用代码行数来衡量编程进展，就好比使用重量来衡量飞机建造进展。</p><p>基本上，这意味着飞机的某些部分在比其他部分轻得多的同时，需要付出更多的努力（例如，像中央计算机一样）。我们不应该衡量飞机的重量，而应该衡量投入其中的努力……以某种方式。所以，这是一个想法。我们可以测量程序员<strong>触碰</strong>代码行的次数。我们不再计算行数，而是计算它们实际被修改的次数—我们可以从Git（或任何其他版本控制系统）获取这些信息。你触碰飞机的那个部分越多—你在上面花费的努力就越多，对吧？</p><p>我称之为Hits-of-Code（HoC），并创建了一个小工具来帮助我们在一行代码中计算这个数字。这是一个<a href="https://rubygems.org/gems/hoc">Ruby gem</a>，安装它并运行：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gem install hoc
$ hoc
54687
</code></pre></div></div><p>54687是代码库中的代码行数总和。这个数字背后的原则很简单—每当在Git提交中修改、创建或删除一行代码时，计数器就会增加。</p><p>这个指标比行数代码更好的主要原因是它与实际投入代码基础的努力更加一致。以下是原因。</p><h2 id="it-always-increments">It Always Increments</h2><p>HoC指标总是在上升。今天它不能比昨天更低——就像努力一样，它总是递增。代码行数并不是这样的。今天你可能有一个庞大的代码库，但经过重构后，它会变得更小。代码行数减少了。这是否意味着你的效率降低了？绝对不是，但对于非程序员来说，代码行数指标是这样说的。例如，项目经理可能会认为由于代码库的规模在过去一个月内保持不变，团队没有在工作。</p><p>HoC没有这种反直觉的效果。相反，HoC会随着每次提交而增长。你在代码库上的工作越多，HoC就越大。你的产品的绝对大小是无关紧要的，重要的是你投入了多少努力。这就是为什么HoC非常直观，并可用作软件开发进展的度量标准。</p><p>看看这个18个月的图表；它显示了这两个指标。我使用了与<a href="https://github.com/yegor256/rultor">rultor</a>，一个<a href="">DevOps助手</a>相同的Java代码库。正如你在图表上看到的，代码库在几个月前经历了一次重大的重构。我认为在这个图表上，哪个指标更能告诉我们关于产品投入的努力更多，这是显而易见的。</p><h2 id="it-is-objective">It Is Objective</h2><p>对于 HoC 来说，代码库的绝对大小并不重要，而你相对于它的贡献有多大才是关键。</p><p>假设你有300K行代码，其中95％是从一些第三方库中复制粘贴过来的（顺便说一句，这是一种非常常见且糟糕的做法——将第三方代码放在你自己的代码库中）。代码行数会很多，但实际的自定义代码部分相对较少。因此，代码行数指标会误导人——它将始终显示300K，只是在其周围略有增减。每个人都会觉得团队正在处理300K行的代码库。</p><p>另一方面，HoC总是会考虑到实际被修改的代码部分。HoC的价值将与实际从事代码开发的程序员所付出的努力客观相关。</p><h2 id="it-exposes-complexity-of-lines">It Exposes Complexity of Lines</h2><p>LoC通常因其对代码复杂性的中立性而受到批评。自动生成的ORM类或复杂的排序算法在代码行数上可能相同，但前者只需几秒钟编写，而后者可能需要数周或数月的时间。这就是为什么代码行数通常被认为是一个虚假的衡量指标。</p><p>Hits-of-Code考虑了复杂性，因为你使用那个排序算法的时间越长，对其代码行的修改就越多。这个说法是正确的，如果你经常使用Git并频繁地提交你的更改——这就是你告诉Git你的工作进展的方式。</p><h2 id="conclusion">Conclusion</h2><p>最后，请查看我们团队在过去几年中完成的<a href="http://at.teamed.io/portfolio.html">开放项目列表</a>。每个项目都有两个指标：代码行数和代码击中数。有趣的是，相对较小的项目拥有非常大（超过一百万）的HoC数。这立即让我想起我们花了多少时间和它们的年龄。</p><p>在这个分析中，我使用了HoC指标：<a href="">你每行代码支付多少钱？</a>那篇文章比较了一个传统项目，每行代码支付$3.98，以及一个由<a href="https://www.zerocracy.com">Zerocracy</a>管理的<a href="">开源</a>项目，每行代码支付¢13。</p><p>我的结论是，这个代码行数指标可以作为软件开发项目中进展追踪的工具。此外，它可以用于团队规模、项目预算、开发进度等方面的估算。显然，代码行数指标不能是唯一的指标，但与其他指标结合使用可以在估算、规划和追踪方面提供很大帮助。</p><p>PS. 请尝试<a href="https://hitsofcode.com/"><code class="language-plaintext highlighter-rouge">hitsofcode.com</code></a>。</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/002 on 2023-08-23 at 20:43</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?83af7328a7a"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
