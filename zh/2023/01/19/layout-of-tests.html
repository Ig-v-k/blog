<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="What is the right way to keep test classes in a repository? There is no single canonical approach, but a few principles may help you keep test files in order." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="On the Layout of Tests"/> <meta name="twitter:description" property="og:description" content="What is the right way to keep test classes in a repository? There is no single canonical approach, but a few principles may help you keep test files in order."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/zh/2023/01/19/layout-of-tests.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?91e21ef9338"/> <link rel="apple-touch-icon" href="/favicon.ico?91e21ef9338"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?91e21ef9338"/> <link rel="stylesheet" href="/css/icons.css?91e21ef9338"/> <link rel="canonical" href="https://www.yegor256.com/zh/2023/01/19/layout-of-tests.html" /> <title>On the Layout of Tests</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;386</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">On the Layout of Tests</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2023/01/19/layout-of-tests.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>我不知道你使用什么编程语言，但我最近在Java、Ruby、JavaScript、PHP、Python、C++和Rust中编码的经验告诉我，我将试图说服你遵守的原则对于所有语言都是通用的。这是关于测试文件的命名。对你来说，这可能看起来是一个不那么重要的问题，但让我试图证明它并非如此。你如何命名测试类的文件？你在src/test/java目录中创建了多少个测试类文件？一个仅用于测试而不是测试本身的类应该放在哪里？对于大多数这些问题，你们大多数人的答案可能是“随便！”所以让我们试着找到一个更好的答案。</p><p>我的单元测试的主要目的是帮助我编写代码。它们是我的安全网，当我犯错时它们会抓住我。例如，假设我回去编辑了几年前编辑过的几个文件，当然，这次我做错了。然后，我运行项目中的所有500个单元测试，…其中有十个变成了红色。请注意，我不说“失败”，因为就像建筑物周围的安全网一样，失败的测试是没有抓住掉下的锤子和刚引入的错误的测试。因此，其中490个<em>失败</em>了，但有十个<em>成功</em>了。</p><h2 id="assertions">Assertions</h2><p>接下来，我摸着头思考——我到底做错了什么？我破坏了哪个文件？我只是改了几十行代码。错误到底在哪里？为了找出答案，我读取了测试的输出。我期望它们在控制台上打印的信息足够描述性，能帮助我理解问题。我不想撤销所有的更改，重新开始，对吧？我想快速跳转到有错误的那一行，修复它，重新运行所有的500个测试，看到它们全部通过，提交我的更改，然后收工。</p><p>不用说，测试断言的描述性消息和测试方法的适当命名是成功的秘诀。让我们考虑简单的对象短语，我们添加一些英语短语，它会神奇地理解其中哪些是问候语（显然，使用机器学习）。对于这样一个类来说，这个Java/JUnit5测试将非常糟糕。</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>

<span class="nd">@Test</span> <span class="kt">void</span> <span class="nf">test1</span><span class="o">()</span> <span class="o">{</span> <span class="nc">Phrases</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Phrases</span><span class="o">();</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">);</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"London is a capital of Great Britain"</span><span class="o">);</span> <span class="k">assert</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">greetings</span><span class="o">().</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">);</span> <span class="o">}</span> <span class="err">```</span>

<span class="n">尽管这个测试要好得多</span><span class="err">，</span><span class="n">多亏了</span><span class="o">[</span><span class="nc">Hamcrest</span><span class="o">](</span><span class="nl">https:</span><span class="c1">//www.hamcrest.org)的断言（如何命名测试方法——在[这里](https://stackoverflow.com/questions/155436/)详细解释）。</span>

<span class="err">```</span><span class="n">java</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">MatcherAssert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">Matchers</span><span class="o">.</span><span class="na">equalTo</span><span class="o">;</span>

<span class="nd">@Test</span> <span class="kt">void</span> <span class="nf">countsSimpleGreetings</span><span class="o">()</span> <span class="o">{</span> <span class="nc">Phrases</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Phrases</span><span class="o">();</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">);</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"London is a capital of Great Britain"</span><span class="o">);</span> <span class="n">assertThat</span><span class="o">(</span> <span class="s">"Total count of greetings"</span><span class="o">,</span> <span class="n">p</span><span class="o">.</span><span class="na">greetings</span><span class="o">().</span><span class="na">count</span><span class="o">(),</span> <span class="n">equalTo</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">);</span> <span class="o">}</span> <span class="err">```</span>

<span class="n">第一个代码片段会打印一个非常晦涩的错误信息</span><span class="err">，</span><span class="n">而第二个代码片段将对我在解决我刚刚制造的错误时非常有帮助</span><span class="err">：</span><span class="n">该消息将是自解释的</span><span class="err">，</span><span class="n">我将很快理解问题出在哪里</span><span class="err">。</span>

<span class="err">##</span> <span class="nc">Test</span> <span class="nc">Classes</span>

<span class="n">描述性消息将帮助我理解问题是什么</span><span class="err">。</span><span class="n">然而</span><span class="err">，</span><span class="n">我会知道问题出在</span><span class="o">*</span><span class="n">哪里</span><span class="o">*</span><span class="n">吗</span><span class="err">？</span><span class="n">是在哪个Java类中</span><span class="err">？</span><span class="n">并不完全知道</span><span class="err">。</span><span class="n">它是在</span><span class="err">`</span><span class="nc">Phrases</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="n">中</span><span class="err">，</span><span class="n">还是在由</span><span class="err">`</span><span class="nc">Phrases</span><span class="o">.</span><span class="na">greetings</span><span class="o">()</span><span class="err">`</span><span class="n">返回的</span><span class="err">`</span><span class="nc">Greetings</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="n">中</span><span class="err">？</span><span class="n">我只能通过测试类的</span><span class="o">*</span><span class="n">名称</span><span class="o">*</span><span class="n">获得这些信息</span><span class="err">。</span><span class="n">如果它被称为</span><span class="err">`</span><span class="nc">PhrasesTest</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="o">---</span><span class="n">它捕获的所有错误</span><span class="o">*</span><span class="n">大概都在Phrases</span><span class="o">.</span><span class="na">java中</span><span class="o">*</span><span class="err">。</span><span class="n">如果它被称为</span><span class="err">`</span><span class="nc">GreetingsTest</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="o">---...</span><span class="na">好吧</span><span class="err">，</span><span class="n">你懂的</span><span class="err">。</span>

<span class="n">我的观点是</span><span class="err">，</span><span class="n">一个测试类的名称不仅仅是一个名称</span><span class="err">。</span><span class="n">它是对一个好奇的程序员的指示</span><span class="err">：“</span><span class="n">去查看源文件</span><span class="err">，</span><span class="n">你可以根据我的名称推断出它的名称</span><span class="err">，</span><span class="n">去掉</span><span class="err">`</span><span class="nc">Test</span><span class="err">`</span><span class="n">后缀</span><span class="err">。”</span><span class="n">如果我试图按照这个指示去做却找不到任何东西</span><span class="err">，</span><span class="n">我会感到非常沮丧</span><span class="err">，</span><span class="n">尤其是如果这个项目不是我的</span><span class="err">。</span><span class="n">我无法从其他地方获取所需的信息</span><span class="err">。</span><span class="n">测试类的名称是我最后的希望</span><span class="err">。</span>

<span class="err">##</span> <span class="nc">Very</span> <span class="nc">Long</span> <span class="nc">Test</span> <span class="nc">Classes</span>

<span class="n">如果一个测试类变得太长怎么办</span><span class="err">？</span><span class="n">它可能有几十个或更多的测试方法</span><span class="err">。</span><span class="n">我们不希望一个类太大</span><span class="err">，</span><span class="n">对吗</span><span class="err">？</span><span class="n">错了</span><span class="err">！</span><span class="n">测试类不是一个类</span><span class="err">。</span><span class="n">它甚至不是一个工具类</span><span class="err">。</span><span class="n">它只是测试脚本的容器</span><span class="err">。</span><span class="n">之所以称其为类</span><span class="err">，</span><span class="n">是因为Java</span><span class="err">（</span><span class="n">以及许多其他语言</span><span class="err">）</span><span class="n">没有其他的代码组织工具</span><span class="err">。</span><span class="n">所以不要担心你的测试类会变得过长</span><span class="err">。</span><span class="n">一个测试类中的5000行代码根本不是问题</span><span class="err">。</span><span class="n">再次强调</span><span class="err">，</span><span class="n">因为它不是一个类</span><span class="err">，</span><span class="n">只是一组测试脚本的集合</span><span class="err">。</span>

<span class="err">##</span> <span class="nc">Test</span> <span class="nf">Prerequisites</span> <span class="o">(</span><span class="nc">Wrong</span> <span class="nc">Way</span><span class="o">)</span>

<span class="n">很多时候</span><span class="err">，</span><span class="n">一些类或函数并不是测试</span><span class="err">，</span><span class="n">但必须在测试之间共享</span><span class="err">。（</span><span class="n">我相信你知道共享测试是一种反模式</span><span class="err">，</span><span class="n">对吧</span><span class="err">？）</span><span class="n">看看我是如何重构上述的单元测试的</span><span class="err">（</span><span class="n">它并不优雅</span><span class="err">，</span><span class="n">但请暂时忍耐</span><span class="err">！）：</span>

</code></pre></div></div><p>class PhrasesTest { @Test void countsSimpleGreetings() { Phrases p = new Phrases(); prepare(p); assertThat( “Total count of greetings”, p.greetings().count(), equalTo(1) ); } private static void prepare(Phrases p) { p.add(“Hello, world!”); p.add(“London is a capital of Great Britain”); } }</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
在这里，私有方法`prepare()`中，我有一个方便构建`Phrases`类对象的构建器。这个构建器可能对其他测试也有好处，比如`GreetingsTest`。我不想把它从`PhrasesTest`复制到`GreetingsTest`中。相反，我想把它放在一个可以重复使用的地方。这将是它的正确位置（`foo`是我们所有类所属的Java包）。

</code></pre></div></div><p>src/ main/ java/ foo/ Phrases.java Greetings.java test/ java/ foo/ support/ FooUtils.java PhrasesTest.java GreetingsTest.java</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
静态方法`FooUtils.prepare()`现在位于`FooUtils`工具类中（一个糟糕的反模式！），它位于`foo.support`包中。但是，请注意，不是在`foo`包中，而是在没有相对应的子包中：在实际的代码块中没有`src/main/java/foo/support`目录。这是给将来几年内遇到这个仓库的程序员一个明确的信息：所有留在`foo.support`中的类只属于测试管道，本身不是测试。

## Test Prerequisites (Right Way)

正如您所知，实用类和私有静态方法是命令式编程的基础。面向对象的世界有更好的选择。特别是 JUnit5 为创建测试前提条件提供了相当优雅的机制：[测试扩展](https://junit.org/junit5/docs/current/user-guide/#extensions-registration)。测试方法所需的所有内容都通过其参数提供，这些参数由扩展实例化，例如：

```java
import org.junit.jupiter.api.extension.*;

class PhrasesExtension implements ParameterResolver { @Override public boolean supportsParameter( ParameterContext pctx, ExtensionContext ectx) { return pctx.getParameter().getType() == Phrases.class; } @Override public Object resolveParameter( ParameterContext pctx, ExtensionContext ectx) { Phrases p = new Phrases(); p.add("Hello, world!"); p.add("London is a capital of Great Britain"); return p; } } ```

然后，测试将会是这样的：

```java
import org.junit.jupiter.api.extension.ExtendWith;

@ExtendWith(PhrasesExtension.class) class PhrasesTest { @Test void countsSimpleGreetings(Phrases p) { assertThat( "Total count of greetings", p.greetings().count(), equalTo(1) ); } } ```

现在，测试及其前提条件存放在两个不同的位置，并且它们的耦合性不如以前紧密。此外，前提条件可以很容易地被重用。神奇的`@ExtendWith`注释可以附加到其他测试上。`PhrasesExtension`的实现可以变得更智能：它可以开始关注测试方法的参数类型，还可以关注附加在其上的自定义注释（这就是[`@TempDir`](https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html)的工作方式）。

## Fake Objects (Best Way)

尽管JUnit扩展功能很美，但我认为它们不是将先决条件与测试方法解耦的最佳方式。JUnit扩展功能仍然与整个项目的测试套件相当耦合，而不仅仅是与测试方法耦合。如果你决定在另一个项目的其他地方使用它们，你将无法这样做。

此外，如果您决定测试您的先决条件，您将无法以优雅的方式实现。当然，您可以在相同目录下为它们编写测试，但在这种情况下，您将违反一个测试对应一个实时类的原则。

解决方案是：虚拟对象。它们与其他真实对象一起存在，但具有特殊的“虚拟”行为，例如（顺便说一下，我不喜欢工厂，但在这种情况下，可以使用）。

</code></pre></div></div><p>class FactoryOfPhrases { public Phrases aboutLondon() { Phrases p = new Phrases(); p.add(“Hello, world!”); p.add(“London is a capital of Great Britain”); return p; } }</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
然后，测试将会是这样的：

</code></pre></div></div><p>class PhrasesTest { @Test void countsSimpleGreetings() { assertThat( “Total count of greetings”, new FactoryOfPhrases().aboutLondon() .greetings().count(), equalTo(1) ); } }</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
存储库的布局将如下所示：

</code></pre></div></div><p>src/ main/ java/ foo/ FactoryOfPhrases.java Phrases.java Greetings.java test/ java/ foo/ FactoryOfPhrasesTest.java PhrasesTest.java GreetingsTest.java</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
请注意测试`FactoryOfPhrasesTest`。它测试的是“假”对象`FactoryOfPhrases`，该对象是生活类别集合的一部分。阶段工厂与其他所有类一起提供。因此，它可以被其他项目使用，不仅仅用于测试目的。

总结一下，通常情况下，我建议保持测试类的干净：只有测试方法应该放在那里。没有属性，当然也没有静态私有方法。所有的前提条件都必须是“伪”对象。

## Integration Tests

在Maven世界中，有单元测试类（以“Test”为后缀）和集成测试类（以“ITCase”为后缀）。它们之间的区别很大。虽然它们都由同一个“maven-compiler-plugin”在“test-compile”阶段进行编译，但它们不会一起执行。相反，单元测试在“test”阶段执行。如果任何一个单元测试失败，构建将立即失败。这是一个非常直接的方法，类似于其他构建自动化引擎。

集成测试分为四个步骤（这些是Maven阶段的名称）：

</code></pre></div></div><p>pre-integration-test integration-test post-integration-test verify</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
首先，在“pre-integration-test”阶段获取集成测试所需的资源。例如，可以启动MySQL数据库的测试实例。然后，在“integration-test”阶段执行带有`ITCase`的测试。现在，它们的执行结果被忽略，但会记录在一个文件中。接下来，在“post-integration-test”阶段释放资源。例如，关闭MySQL服务器。最后，在“verify”阶段验证测试的结果，如果有些测试不通过，则构建将失败。

只有当`ITCase`文件是特定实际类的集成测试时，我才将其与`Test`文件放在一起。很多时候，它们并不是集成测试，这就是它们为什么是集成测试的原因。它们可能会将多个类进行集成和测试。在这种情况下，我会将它们放在一个单独的包中，并给它们任意的名称，这些名称与实际类的名称不匹配。

</code></pre></div></div><p>src/ main/ java/ foo/ Phrases.java Greetings.java test/ java/ foo/ it/ SimpleGuessingITCase.java PhrasesTest.java GreetingsTest.java GreetingsITCase.java ```</p><p>在这里，<code class="language-plaintext highlighter-rouge">GreetingsITCase.java</code>是<code class="language-plaintext highlighter-rouge">Greetings.java</code>的集成测试，而<code class="language-plaintext highlighter-rouge">SimpleGuessingITCase.java</code>是没有特定类的集成测试。显然，<code class="language-plaintext highlighter-rouge">foo.it</code>包仅存在于测试中，而在<code class="language-plaintext highlighter-rouge">src/main/java</code>中不存在。</p><p><br /></p><p>因此，有第一个规则：一个测试类只能有用<code class="language-plaintext highlighter-rouge">@Test</code>注解的方法（在Java中）。</p><p>然后，还有第二个规则：具有测试的包只能有后缀为<code class="language-plaintext highlighter-rouge">Test</code>或<code class="language-plaintext highlighter-rouge">ITCase</code>的类，这些类与实际类一一对应，不得包含其他内容。</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/31 on 2023-08-29 at 16:56</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?91e21ef9338"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
