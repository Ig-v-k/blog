<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebSite"> <head> <meta charset="utf-8"/> <meta name="description" content="What is the right way to keep test classes in a repository? There is no single canonical approach, but a few principles may help you keep test files in order." /> <meta name="keywords" content="" /> <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/> <meta name="google-site-verification" content="JEj_gQr2CPe2QKGw8XdMz0R7VboQIUbX3FlM-lwTq-8" /> <meta name="author" content="Yegor Bugayenko"> <meta name="og:site_name" content="Yegor Bugayenko"/> <meta name="og:type" content="article" /> <meta name="og:locale" content="en_US" /> <meta name="twitter:account_id" content="4503599630178231" /> <meta name="twitter:creator" content="@yegor256"/> <meta name="twitter:site" content="@yegor256"/> <meta name="twitter:title" property="og:title" content="On the Layout of Tests"/> <meta name="twitter:description" property="og:description" content="What is the right way to keep test classes in a repository? There is no single canonical approach, but a few principles may help you keep test files in order."/> <meta name="twitter:url" property="og:url" content="https://www.yegor256.com/zh/2023/01/19/layout-of-tests.html"/> <meta name="telegram:channel" content="AAAAAEJFMRzsRTRxM3ec6A"/> <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="yegor256" /> <link rel="shortcut icon" href="/favicon.ico?cae138695db"/> <link rel="apple-touch-icon" href="/favicon.ico?cae138695db"/> <link rel="alternate" type="application/rss+xml" title="RSS for yegor256.com" href="https://www.yegor256.com/rss.xml"/> <link rel="stylesheet" href="/css/layout.css?cae138695db"/> <link rel="stylesheet" href="/css/icons.css?cae138695db"/> <link rel="canonical" href="https://www.yegor256.com/zh/2023/01/19/layout-of-tests.html" /> <title>On the Layout of Tests</title> </head> <body><div class="wrapper"> <aside class="header-toggle unprintable" id="header-toggle" title="Show the menu" onclick="$('#header').show();$('#header-toggle').hide();">&#9776;</aside> <header class="header" id="header"><div class="face"> <a href="/about-me.html#form" class="sub" title="Click to subscribe to my monthly newsletter"><span>Subscribe</span></a> <a href="/about-me.html" style="position:relative;"> <img src="/images/face-256x256.jpg" class="photo" alt="Yegor Bugayenko"/> </a></div><nav><ul class="menu social notranslate"> <li><a href="https://twitter.com/intent/follow?screen_name=yegor256" rel="nofollow" title="Follow me on Twitter"><i class="icon icon-twitter notranslate" aria-hidden="true"></i></a></li> <li><a href="/rss.xml" rel="nofollow" title="Subscribe to my RSS feed"><i class="icon icon-rss notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://github.com/yegor256" rel="nofollow" title="My GitHub profile"><i class="icon icon-github notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="http://stackoverflow.com/users/187141/yegor256" rel="nofollow" title="My Stack Overflow profile"><i class="icon icon-stackoverflow notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.facebook.com/yegor256" rel="nofollow" title="Follow me on Facebook"><i class="icon icon-facebook notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://instagram.com/yegor256" rel="nofollow" title="Follow me on Instagram"><i class="icon icon-instagram notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.linkedin.com/in/yegor256" rel="nofollow" title="My LinkedIn profile"><i class="icon icon-linkedin notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.youtube.com/c/yegor256?sub_confirmation=1" rel="nofollow" title="My Youtube video channel"><i class="icon icon-youtube notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://www.pinterest.com/yegor256/" rel="nofollow" title="My Pinterest boards"><i class="icon icon-pinterest notranslate" aria-hidden="true"></i></a></li> <li><a itemprop="sameAs" href="https://angel.co/yegor256" rel="nofollow" title="My AngelList profile"><i class="icon icon-angellist notranslate" aria-hidden="true"></i></a></li> <li><a href="https://soundcloud.com/yegor256" rel="nofollow" title="My podcast"><i class="icon icon-podcast notranslate" aria-hidden="true"></i></a></li> <li><a href="https://itunes.apple.com/us/podcast/yegor256-podcast/id1150826721" rel="nofollow" title="My iTunes podcast"><i class="icon icon-itunes notranslate" aria-hidden="true"></i></a></li> <li><a href="https://t.me/yegor256news" rel="nofollow" title="My Telegram public channel"><i class="icon icon-telegram notranslate" aria-hidden="true"></i></a></li> <li><a href="mailto:blog@yegor256.com" rel="nofollow" title="Email me any time"><i class="icon icon-mail notranslate" aria-hidden="true"></i></a></li></ul><ul class="menu"> <li><a href="/" title="Home page">Home</a></li> <li ><a href="/best.html" title="Best articles to read">12&#160;Best</a></li> <li ><a href="/contents.html" title="The contents of the entire blog">All&#160;385</a></li> <li ><a href="/teaching.html" title="My courses and lectures">Teaching</a></li> <li ><a href="/talks.html" title="Future and past conference talks">Talks</a></li> <li ><a href="/books.html" title="The books I wrote">Books</a></li> <li ><a href="/papers.html" title="My academic papers and patents">Papers</a></li> <li ><a href="/pets.html" title="My loved pet projects">Pets</a></li> <li ><a href="/award.html" title="Software quality award">Award</a></li> <li ><a href="/testimonials.html" title="What some people say about me">Testimonials</a></li> <li ><a href="/shift-m.html" title="Audio podcast about project management">Shift-M</a></li> <li ><a href="/paintings.html" title="My paintings for sale">Art</a></li> <li><a href="https://ru.yegor256.com/" title="Немного на русском языке о политике в России, Украине и мире">Политика</a></li></ul></nav><div class="search"> <form method="get" action="https://www.google.com/search" itemprop="potentialAction" itemscope="" itemtype="http://schema.org/SearchAction"> <meta itemprop="target" content="https://www.google.com/search?q={q}"/> <input name="sitesearch" value="yegor256.com" type="hidden"/> <input itemprop="query-input" type="text" id="search-query" class="field field-text" required="required" onfocus="$('.google').css('visibility', 'visible');" name="q" placeholder="Search..." autocomplete="off"/> <input type="image" src="/images/google-search-icon.svg" class="google" title="Search via Google" alt="Search via Google"/> </form></div><div class="hot"><ul></ul></div></header></div><section itemscope="" itemtype="http://schema.org/BlogPosting"><div class="wrapper"> <header><h1 itemprop="name headline mainEntityOfPage">On the Layout of Tests</h1></header> <article class="main" itemprop="articleBody" style="font-family: sans-serif; font-size: 0.9em; line-height: 1.2em;"><p style="color: #C42C00;">The following text is a <em>partial</em> translation of the <a href='https://www.yegor256.com/2023/01/19/layout-of-tests.html'>original English article</a>, performed by <a href="https://chat.openai.com/">ChatGPT</a> (gpt-3.5-turbo) and <a href="https://github.com/yegor256/jekyll-chatgpt-translate">this Jekyll plugin</a>:</p><p>我不知道你使用的编程语言是什么，但我最近使用Java、Ruby、JavaScript、PHP、Python、C++和Rust进行编码的经验告诉我，我将尝试说服你遵循的原则对于所有语言来说都是普遍适用的。它涉及到测试文件的命名。对你来说，这可能看起来是一个不太重要的问题，但让我试着证明它并非如此。你如何给测试类命名你在src/test/java目录中创建了多少个测试类文件？如果一个类仅在测试中使用而不是一个测试本身，你会把它放在哪里？对于这些问题中的大多数，你们大多数人的答案可能是“随便！”所以让我们试着找到一个更好的答案。</p><p>我的单元测试的主要目的是帮助我编码。它们就像是一张“安全网”——当我犯错误时，它们会捕捉到我。举个例子，假设我回过头去编辑几年前编辑过的一些文件，当然，这次我弄错了。然后，我运行项目中的所有500个单元测试，…其中有十个测试变成了红色。请注意，我并不说“失败”，因为就像建筑物周围的安全网一样，失败的测试是没有捕捉到掉下来的锤子，也没有发现刚引入的错误的测试。因此，其中490个<em>失败</em>，但有十个<em>成功</em>。</p><h2 id="assertions">Assertions</h2><p>接下来，我挠了挠头，思考着——我到底做错了什么？我破坏了哪个文件？我只是改了几十行代码。错误到底出在哪里？为了找出答案，我阅读测试的输出。我希望它们在控制台上打印的信息足够清晰，能帮助我理解问题。我不想撤销我所有的更改，从头开始，对吧？我想要快速跳转到有问题的那一行，修复它，重新运行所有的500个测试，看到它们全部都通过，提交我的更改，然后就可以收工了。</p><p>毋庸置疑，测试断言的描述性信息和测试方法的适当命名是成功的秘诀。让我们考虑一下简单的对象短语，我们添加了一些英语短语，它会神奇地理解哪些是问候语（显然，使用机器学习）。对于这样一个类来说，这个Java/JUnit5的测试将是非常糟糕的：</p><div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="o">;</span>

<span class="nd">@Test</span> <span class="kt">void</span> <span class="nf">test1</span><span class="o">()</span> <span class="o">{</span> <span class="nc">Phrases</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Phrases</span><span class="o">();</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">);</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"London is a capital of Great Britain"</span><span class="o">);</span> <span class="k">assert</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">greetings</span><span class="o">().</span><span class="na">count</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">);</span> <span class="o">}</span> <span class="err">```</span>

<span class="n">虽然这个测试要好得多</span><span class="err">，</span><span class="n">感谢</span><span class="o">[</span><span class="nc">Hamcrest</span><span class="o">](</span><span class="nl">https:</span><span class="c1">//www.hamcrest.org)的断言（如何命名测试方法——在[这里](https://stackoverflow.com/questions/155436/)详细解释）。</span>

<span class="err">```</span><span class="n">java</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">MatcherAssert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">Matchers</span><span class="o">.</span><span class="na">equalTo</span><span class="o">;</span>

<span class="nd">@Test</span> <span class="kt">void</span> <span class="nf">countsSimpleGreetings</span><span class="o">()</span> <span class="o">{</span> <span class="nc">Phrases</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Phrases</span><span class="o">();</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">);</span> <span class="n">p</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"London is a capital of Great Britain"</span><span class="o">);</span> <span class="n">assertThat</span><span class="o">(</span> <span class="s">"Total count of greetings"</span><span class="o">,</span> <span class="n">p</span><span class="o">.</span><span class="na">greetings</span><span class="o">().</span><span class="na">count</span><span class="o">(),</span> <span class="n">equalTo</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">);</span> <span class="o">}</span> <span class="err">```</span>

<span class="n">第一个片段会打印出一个相当晦涩的错误信息</span><span class="err">，</span><span class="n">而第二个片段将在我与刚刚产生的错误斗争中帮助我很多</span><span class="err">：</span><span class="n">这个信息将会自解释</span><span class="err">，</span><span class="n">我会很快理解问题所在</span><span class="err">。</span>

<span class="err">##</span> <span class="nc">Test</span> <span class="nc">Classes</span>

<span class="n">描述性的消息将帮助我了解问题是什么</span><span class="err">。</span><span class="n">但是</span><span class="err">，</span><span class="n">我会知道问题出现在哪里吗</span><span class="err">？</span><span class="n">在哪个Java类中</span><span class="err">？</span><span class="n">不完全知道</span><span class="err">。</span><span class="n">是在</span><span class="err">`</span><span class="nc">Phrases</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="n">中</span><span class="err">，</span><span class="n">还是在</span><span class="err">`</span><span class="nc">Greetings</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="n">中</span><span class="err">，`</span><span class="nc">Phrases</span><span class="o">.</span><span class="na">greetings</span><span class="o">()</span><span class="err">`</span><span class="n">返回的地方</span><span class="err">？</span><span class="n">我只能通过测试类的</span><span class="o">*</span><span class="n">名称</span><span class="o">*</span><span class="n">来获得这些信息</span><span class="err">。</span><span class="n">如果它叫做</span><span class="err">`</span><span class="nc">PhrasesTest</span><span class="o">.</span><span class="na">java</span><span class="err">`，</span><span class="n">那么它捕获的所有错误</span><span class="o">*</span><span class="n">很可能</span><span class="o">*</span><span class="n">位于</span><span class="err">`</span><span class="nc">Phrases</span><span class="o">.</span><span class="na">java</span><span class="err">`</span><span class="n">中</span><span class="err">。</span><span class="n">如果它叫做</span><span class="err">`</span><span class="nc">GreetingsTest</span><span class="o">.</span><span class="na">java</span><span class="err">`，</span><span class="n">那么</span><span class="o">...</span><span class="na">好吧</span><span class="err">，</span><span class="n">你懂的</span><span class="err">。</span>

<span class="n">我的观点是测试类的名称不仅仅是一个名称</span><span class="err">。</span><span class="n">对于一个好奇的程序员</span><span class="err">，</span><span class="n">它是一条指令</span><span class="err">：“</span><span class="n">去查看源文件</span><span class="err">，</span><span class="n">你可以从我的名称中推断出它的名称</span><span class="err">，</span><span class="n">去掉</span><span class="err">`</span><span class="nc">Test</span><span class="err">`</span><span class="n">后缀</span><span class="err">。”</span> <span class="n">如果我试图按照这个指令去找</span><span class="err">，</span><span class="n">但却找不到任何东西</span><span class="err">，</span><span class="n">我会感到非常沮丧</span><span class="err">，</span><span class="n">尤其是如果这个项目不是我的</span><span class="err">。</span><span class="n">我无法从其他地方获取所需的信息</span><span class="err">。</span><span class="n">测试类的名称是我最后的希望</span><span class="err">。</span>

<span class="err">##</span> <span class="nc">Very</span> <span class="nc">Long</span> <span class="nc">Test</span> <span class="nc">Classes</span>

<span class="n">如果一个测试类变得太长怎么办</span><span class="err">？</span><span class="n">它可能有几十个或更多的测试方法</span><span class="err">。</span><span class="n">我们不希望一个类太大</span><span class="err">，</span><span class="n">对吗</span><span class="err">？</span><span class="n">错了</span><span class="err">！</span><span class="n">一个测试类不是一个类</span><span class="err">。</span><span class="n">它甚至不是一个实用类</span><span class="err">。</span><span class="n">它只是一个测试脚本的容器</span><span class="err">。</span><span class="n">之所以称为类</span><span class="err">，</span><span class="n">是因为Java</span><span class="err">（</span><span class="n">以及许多其他语言</span><span class="err">）</span><span class="n">没有其他的代码组织工具</span><span class="err">。</span><span class="n">所以不要担心你的测试类会变得过长</span><span class="err">。</span><span class="n">一个测试类中的5000行代码根本不是问题</span><span class="err">。</span><span class="n">再次强调</span><span class="err">，</span><span class="n">因为它不是一个类</span><span class="err">，</span><span class="n">而只是一组测试脚本的集合</span><span class="err">。</span>

<span class="err">##</span> <span class="nc">Test</span> <span class="nf">Prerequisites</span> <span class="o">(</span><span class="nc">Wrong</span> <span class="nc">Way</span><span class="o">)</span>

<span class="n">很多时候</span><span class="err">，</span><span class="n">有些类或函数不是测试</span><span class="err">，</span><span class="n">但必须在测试之间共享</span><span class="err">。（</span><span class="n">我相信你知道共享测试是一种反模式吧</span><span class="err">？</span><span class="n">你知道吗</span><span class="err">？）</span><span class="n">看看我如何重构了上面的单元测试</span><span class="err">（</span><span class="n">它并不优雅</span><span class="err">，</span><span class="n">但请暂时忍耐一下</span><span class="err">！）：</span>

</code></pre></div></div><p>class PhrasesTest { @Test void countsSimpleGreetings() { Phrases p = new Phrases(); prepare(p); assertThat( “Total count of greetings”, p.greetings().count(), equalTo(1) ); } private static void prepare(Phrases p) { p.add(“Hello, world!”); p.add(“London is a capital of Great Britain”); } }</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
在这里，在私有方法`prepare()`中，我有一个方便的`Phrases`类对象的构建器。这个构建器可能对其他测试很有用，比如`GreetingsTest`。我不想从`PhrasesTest`复制它到`GreetingsTest`中。相反，我想把它放在一个可以重复使用的地方。这将是它的正确位置（`foo`是我们所有类所属的Java包）。

</code></pre></div></div><p>src/ main/ java/ foo/ Phrases.java Greetings.java test/ java/ foo/ support/ FooUtils.java PhrasesTest.java GreetingsTest.java</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
静态方法`FooUtils.prepare()`现在位于`FooUtils`实用类中（一个可怕的反模式！），位于`foo.support`包中。但是，请注意，它不位于`foo`包中，而是位于子包中，该子包在实际代码块中没有对应项：没有`src/main/java/foo/support`目录。对于在几年后遇到这个代码库的程序员来说，这是一个明确的信息：所有位于`foo.support`中的类仅属于测试流水线，本身不是测试。

## Test Prerequisites (Right Way)

正如您所知，实用类和私有静态方法是命令式编程的基础。面向对象的世界有更好的选择。尤其是JUnit5，它提供了相当优雅的机制来创建测试前提条件：测试扩展。测试方法所需的一切都通过参数提供，这些参数由扩展实例化，例如：

```java
import org.junit.jupiter.api.extension.*;

class PhrasesExtension implements ParameterResolver { @Override public boolean supportsParameter( ParameterContext pctx, ExtensionContext ectx) { return pctx.getParameter().getType() == Phrases.class; } @Override public Object resolveParameter( ParameterContext pctx, ExtensionContext ectx) { Phrases p = new Phrases(); p.add("Hello, world!"); p.add("London is a capital of Great Britain"); return p; } } ```

Then, the test will look like this:

```java
import org.junit.jupiter.api.extension.ExtendWith;

@ExtendWith(PhrasesExtension.class) class PhrasesTest { @Test void countsSimpleGreetings(Phrases p) { assertThat( "Total count of greetings", p.greetings().count(), equalTo(1) ); } } ```

现在，测试及其前提条件留在两个不同的地方，并且它们之间的耦合性不如以前紧密。此外，这些前提条件可以很容易地被重复使用。神奇的`@ExtendWith`注解可以附加到其他测试上。`PhrasesExtension`的实现可以变得更加智能：它可以开始注意测试方法的参数类型，还可以注意附加到它上面的自定义注解（这就是[`@TempDir`](https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html)的工作原理）。

## Fake Objects (Best Way)

尽管JUnit扩展很美，但我认为它们并不是将前提条件与测试方法解耦的最佳方式。JUnit扩展仍然相当耦合... 不是与测试方法耦合，而是与整个项目的测试套件耦合。如果你决定在其他地方、其他项目中使用它们，你将无法这样做。

另外，如果你决定测试你的前提条件，你将无法优雅地完成。当然，你可以在同一目录下为它们编写测试，但在这种情况下，你将违反原则：一个活动类只有一个测试。

解决方案是：[假对象]()。它们与其他真实对象一起存在，但具有特殊的“假”行为，例如（顺便说一句，我[不喜欢工厂]()，但在这种情况下，可以接受）。

</code></pre></div></div><p>class FactoryOfPhrases { public Phrases aboutLondon() { Phrases p = new Phrases(); p.add(“Hello, world!”); p.add(“London is a capital of Great Britain”); return p; } }</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Then, the test will look like this:

</code></pre></div></div><p>class PhrasesTest { @Test void countsSimpleGreetings() { assertThat( “Total count of greetings”, new FactoryOfPhrases().aboutLondon() .greetings().count(), equalTo(1) ); } }</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Repository layout would look like this:

</code></pre></div></div><p>src/ main/ java/ foo/ FactoryOfPhrases.java Phrases.java Greetings.java test/ java/ foo/ FactoryOfPhrasesTest.java PhrasesTest.java GreetingsTest.java</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
请注意测试`FactoryOfPhrasesTest.`它测试的是“fake”对象`FactoryOfPhrases`，它是生活类集合的一部分。阶段工厂与所有其他类一起提供。因此，它可以被其他项目使用，不仅限于测试目的。

总结一下，通常情况下，我建议保持测试类的简洁：只放置测试方法。没有属性，当然也没有静态私有方法。所有作为前提条件的东西都必须是一个“伪”对象。

## Integration Tests

在Maven世界中，有单元测试类（以`Test`为后缀）和集成测试类（以`ITCase`为后缀）。它们之间的区别很大。虽然它们都由相同的`maven-compiler-plugin`在`test-compile`阶段编译，但它们不会一起执行。相反，单元测试在`test`阶段执行。如果有任何单元测试失败，构建将立即失败。这是一种非常直接的方法，类似于其他构建自动化引擎。

Integration tests are executed in four steps (these are the names of Maven phases):

</code></pre></div></div><p>pre-integration-test integration-test post-integration-test verify</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
首先，在“pre-integration-test”阶段获取集成测试所需的资源。例如，可能会启动一个MySQL数据库的测试实例。然后，在“integration-test”阶段执行使用`ITCase`的测试。目前忽略其执行结果，只记录在文件中。然后，在“post-integration-test”阶段释放资源。例如，关闭MySQL服务器。最后，在“verify”阶段验证测试结果，如果其中一些测试结果不通过，构建过程将失败。

只有当`ITCase`文件是针对特定实时类的集成测试时，我才与`Test`文件放在一起。很多时候，它们并不是集成测试，那就是它们的目的。它们可能会将多个类集成和测试在一起。在这种情况下，我会将它们放在一个单独的包中，并赋予它们与实时类名称不匹配的任意名称。

</code></pre></div></div><p>src/ main/ java/ foo/ Phrases.java Greetings.java test/ java/ foo/ it/ SimpleGuessingITCase.java PhrasesTest.java GreetingsTest.java GreetingsITCase.java ```</p><p>这里，<code class="language-plaintext highlighter-rouge">GreetingsITCase.java</code> 是 <code class="language-plaintext highlighter-rouge">Greetings.java</code> 的一个集成测试，而 <code class="language-plaintext highlighter-rouge">SimpleGuessingITCase.java</code> 是一个没有特定类的集成测试。显然，<code class="language-plaintext highlighter-rouge">foo.it</code> 包只存在于测试中，而不在 <code class="language-plaintext highlighter-rouge">src/main/java</code> 中。</p><p><br /></p><p>Thus, there is the first rule: a test class may only have methods annotated with <code class="language-plaintext highlighter-rouge">@Test</code> (in the case of Java).</p><p>然后，还有第二条规则：具有测试的包只能包含将一对一映射到实际类的<code class="language-plaintext highlighter-rouge">Test</code>或<code class="language-plaintext highlighter-rouge">ITCase</code>后缀的类，不能包含其他任何内容。</p><p class="jekyll-chatgpt-translate">Translated by ChatGPT gpt-3.5-turbo/001 on 2023-08-23 at 10:43</p></article></div><div class="wrapper"> <footer class="footer"><p> &copy; <span itemscope="" itemprop="copyrightHolder" itemtype="http://schema.org/Person"> <span itemprop="name">Yegor Bugayenko</span> </span> 2014&ndash;<span itemprop="copyrightYear">2023</span></p></footer></div></section><div class="wrapper unprintable" style="text-align:center;margin-top:2em;"> <a href="https://www.sixnines.io/h/3ba1652f"> <img src="//www.sixnines.io/b/3ba1652f?style=flat" alt="sixnines availability badge" /></a> &nbsp; <a href="https://github.com/yegor256/blog/stargazers"> <img src="//img.shields.io/github/stars/yegor256/blog.svg?style=flat-square" alt="GitHub stars" /></a></div><script src="//code.jquery.com/jquery-1.9.0.min.js"></script> <script src="/js/all.js?cae138695db"></script> <script>var disqus_shortname = 'yegor256';</script> <script id="dsq-count-scr" src="//yegor256.disqus.com/count.js" async="async"></script> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1963507-32', 'auto'); ga('send', 'pageview'); </script> <script> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Person", "name": "Yegor Bugayenko", "url": "https://www.yegor256.com", "sameAs": [ "https://www.facebook.com/yegor256", "https://instagram.com/yegor256", "https://www.linkedin.com/in/yegor256", "https://twitter.com/yegor256", "https://github.com/yegor256", "https://www.pinterest.com/yegor256/" ] } </script> </body> </html>
